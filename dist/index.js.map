{"version":3,"file":"index.js","sources":["../src/transformer/index.ts","../../../node_modules/.pnpm/@babel+runtime@7.28.3/node_modules/@babel/runtime/helpers/interopRequireDefault.js","../../../node_modules/.pnpm/@babel+runtime@7.28.3/node_modules/@babel/runtime/helpers/typeof.js","../../../node_modules/.pnpm/@babel+runtime@7.28.3/node_modules/@babel/runtime/helpers/toPrimitive.js","../../../node_modules/.pnpm/@babel+runtime@7.28.3/node_modules/@babel/runtime/helpers/toPropertyKey.js","../../../node_modules/.pnpm/@babel+runtime@7.28.3/node_modules/@babel/runtime/helpers/defineProperty.js","../../../node_modules/.pnpm/rc-picker@4.11.3_date-fns@2.30.0_dayjs@1.11.13_moment@2.30.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-picker/lib/locale/zh_CN.js","../../../node_modules/.pnpm/@babel+runtime@7.28.3/node_modules/@babel/runtime/helpers/objectSpread2.js","../../../node_modules/.pnpm/rc-picker@4.11.3_date-fns@2.30.0_dayjs@1.11.13_moment@2.30.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-picker/lib/locale/common.js","../../../node_modules/.pnpm/antd@5.27.0_date-fns@2.30.0_moment@2.30.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/time-picker/locale/zh_CN.js","../../../node_modules/.pnpm/antd@5.27.0_date-fns@2.30.0_moment@2.30.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/date-picker/locale/zh_CN.js","../../../node_modules/.pnpm/antd@5.27.0_date-fns@2.30.0_moment@2.30.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/calendar/locale/zh_CN.js","../../../node_modules/.pnpm/antd@5.27.0_date-fns@2.30.0_moment@2.30.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/lib/locale/zh_CN.js","../../../node_modules/.pnpm/rc-pagination@5.1.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/rc-pagination/lib/locale/zh_CN.js","../../../node_modules/.pnpm/antd@5.27.0_date-fns@2.30.0_moment@2.30.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/antd/locale/zh_CN.js","../src/provider/ThemeProvider.tsx","../src/provider/nextjs-adapter.tsx","../src/components/ThemeSwitcher.tsx","../src/components/ThemeEditor.tsx","../src/provider/umi-adapter.tsx"],"sourcesContent":["/**\n * 主题转换器\n * 将 Design Tokens 转换为 Ant Design、Tailwind CSS 和 CSS Variables\n */\n\nimport type {\n  ThemeConfig,\n  AntDesignTheme,\n  CSSVariables,\n  TailwindTheme,\n  TransformedTheme,\n  ColorScale,\n} from '../tokens/types';\n\n/**\n * 主题转换器类\n */\nexport class ThemeTransformer {\n  private config: ThemeConfig;\n\n  constructor(config: ThemeConfig) {\n    this.config = config;\n  }\n\n  /**\n   * 转换为 Ant Design ConfigProvider 配置\n   */\n  public toAntdTheme(): AntDesignTheme {\n    const { colors, spacing, typography, borderRadius, borders, shadows, animation } = this.config;\n\n    return {\n      token: {\n        // === 颜色 ===\n        colorPrimary: colors.primary[500],\n        colorSuccess: colors.success[500],\n        colorWarning: colors.warning[500],\n        colorError: colors.error[500],\n        colorInfo: colors.info[500],\n\n        // 文字颜色\n        colorText: colors.semantic.foreground,\n        colorTextSecondary: colors.semantic.mutedForeground,\n        colorTextDisabled: colors.neutral[400],\n        colorTextPlaceholder: colors.neutral[400],\n\n        // 背景色\n        colorBgContainer: colors.semantic.background,\n        colorBgElevated: colors.semantic.card,\n        colorBgLayout: colors.semantic.muted,\n        colorBgSpotlight: colors.semantic.accent,\n\n        // 边框\n        colorBorder: colors.semantic.border,\n        colorBorderSecondary: colors.neutral[200],\n\n        // 链接\n        colorLink: colors.semantic.link,\n        colorLinkHover: colors.semantic.linkHover,\n        colorLinkActive: colors.primary[700],\n\n        // === 字体 ===\n        fontFamily: typography.fontFamily.sans.join(', '),\n        fontSize: parseInt(typography.fontSize.base),\n        fontSizeSM: parseInt(typography.fontSize.sm),\n        fontSizeLG: parseInt(typography.fontSize.lg),\n        fontSizeXL: parseInt(typography.fontSize.xl),\n        fontSizeHeading1: parseInt(typography.fontSize['4xl']),\n        fontSizeHeading2: parseInt(typography.fontSize['3xl']),\n        fontSizeHeading3: parseInt(typography.fontSize['2xl']),\n        fontSizeHeading4: parseInt(typography.fontSize.xl),\n        fontSizeHeading5: parseInt(typography.fontSize.lg),\n\n        fontWeightStrong: typography.fontWeight.semibold,\n\n        // 行高\n        lineHeight: typography.lineHeight.normal,\n        lineHeightSM: typography.lineHeight.tight,\n        lineHeightLG: typography.lineHeight.relaxed,\n\n        // === 圆角 ===\n        borderRadius: parseInt(borderRadius.md),\n        borderRadiusLG: parseInt(borderRadius.lg),\n        borderRadiusSM: parseInt(borderRadius.sm),\n        borderRadiusXS: parseInt(borderRadius.sm),\n        borderRadiusOuter: parseInt(borderRadius.md),\n\n        // === 间距 ===\n        padding: parseInt(spacing.md),\n        paddingLG: parseInt(spacing.lg),\n        paddingSM: parseInt(spacing.sm),\n        paddingXS: parseInt(spacing.xs),\n        paddingXL: parseInt(spacing.xl),\n\n        margin: parseInt(spacing.md),\n        marginLG: parseInt(spacing.lg),\n        marginSM: parseInt(spacing.sm),\n        marginXS: parseInt(spacing.xs),\n        marginXL: parseInt(spacing.xl),\n\n        // === 阴影 ===\n        boxShadow: shadows.md,\n        boxShadowSecondary: shadows.sm,\n\n        // === 动画 ===\n        motionDurationFast: animation.duration.fast,\n        motionDurationMid: animation.duration.normal,\n        motionDurationSlow: animation.duration.slow,\n\n        // === 暗色模式 ===\n        // 根据主题模式自动调整\n        ...(this.config.meta.mode === 'dark'\n          ? {\n              colorBgBase: colors.semantic.background,\n              colorTextBase: colors.semantic.foreground,\n            }\n          : {}),\n      },\n\n      components: {\n        // Button 组件\n        Button: {\n          primaryShadow: shadows.sm,\n          dangerShadow: shadows.sm,\n          colorPrimary: colors.primary[500],\n          colorPrimaryHover: colors.primary[400],\n          colorPrimaryActive: colors.primary[600],\n        },\n\n        // Card 组件\n        Card: {\n          colorBorderSecondary: colors.semantic.cardBorder,\n          boxShadowTertiary: shadows.md,\n        },\n\n        // Menu 组件（侧边栏菜单）\n        Menu: {\n          colorBgContainer: colors.semantic.card,\n          colorItemBg: colors.semantic.card,\n          colorItemBgHover: colors.semantic.muted,\n          colorItemBgActive: colors.semantic.accent,\n          colorItemBgSelected: colors.semantic.accent,\n          colorItemText: colors.semantic.foreground,\n          colorItemTextHover: colors.semantic.foreground,\n          colorItemTextSelected: colors.semantic.accentForeground,\n          colorItemTextActive: colors.semantic.accentForeground,\n          colorSubItemBg: colors.semantic.card,\n          colorActiveBarBorderSize: 0,\n        },\n\n        // Table 组件\n        Table: {\n          colorBgContainer: colors.semantic.card,\n          colorBorderSecondary: colors.semantic.border,\n          colorTextHeading: colors.semantic.foreground,\n          colorText: colors.semantic.foreground,\n          colorTextDescription: colors.semantic.mutedForeground,\n          colorFillAlter: colors.semantic.muted,\n          colorSplit: colors.semantic.border,\n        },\n\n        // Input 组件\n        Input: {\n          colorBgContainer: colors.semantic.background,\n          colorBorder: colors.semantic.input,\n          colorText: colors.semantic.foreground,\n          colorTextPlaceholder: colors.semantic.mutedForeground,\n          colorBgContainerDisabled: colors.semantic.muted,\n        },\n\n        // Select 组件\n        Select: {\n          colorBgContainer: colors.semantic.background,\n          colorBgElevated: colors.semantic.card,\n          colorBorder: colors.semantic.border,\n          colorText: colors.semantic.foreground,\n          colorTextPlaceholder: colors.semantic.mutedForeground,\n        },\n\n        // Modal 组件\n        Modal: {\n          colorBgElevated: colors.semantic.card,\n        },\n\n        // Message 组件\n        Message: {\n          contentBg: colors.semantic.card,\n        },\n\n        // Notification 组件\n        Notification: {\n          colorBgElevated: colors.semantic.card,\n        },\n\n        // Tabs 组件\n        Tabs: {\n          colorBorderSecondary: colors.semantic.border,\n        },\n\n        // Layout 组件\n        Layout: {\n          colorBgHeader: colors.semantic.card,\n          colorBgBody: colors.semantic.background,\n          colorBgTrigger: colors.semantic.muted,\n          siderBg: colors.semantic.card,\n        },\n\n        // Dropdown 组件\n        Dropdown: {\n          colorBgElevated: colors.semantic.card,\n          colorText: colors.semantic.foreground,\n        },\n\n        // Pagination 组件\n        Pagination: {\n          colorBgContainer: colors.semantic.card,\n          colorText: colors.semantic.foreground,\n          colorTextDisabled: colors.semantic.mutedForeground,\n        },\n\n        // Switch 组件\n        Switch: {\n          colorTextQuaternary: colors.neutral[400],\n          colorTextTertiary: colors.neutral[500],\n        },\n\n        // Tag 组件\n        Tag: {\n          colorBorder: colors.semantic.border,\n          colorText: colors.semantic.foreground,\n        },\n      },\n    };\n  }\n\n  /**\n   * 转换为 CSS Variables\n   */\n  public toCSSVariables(): CSSVariables {\n    const { colors, spacing, typography, borderRadius, borders, shadows, animation } = this.config;\n    const vars: CSSVariables = {};\n\n    // === 颜色变量 ===\n    // 品牌色\n    this.addColorScale(vars, 'primary', colors.primary);\n    this.addColorScale(vars, 'secondary', colors.secondary);\n\n    // 功能色\n    this.addColorScale(vars, 'success', colors.success);\n    this.addColorScale(vars, 'warning', colors.warning);\n    this.addColorScale(vars, 'error', colors.error);\n    this.addColorScale(vars, 'info', colors.info);\n\n    // 中性色\n    this.addColorScale(vars, 'neutral', colors.neutral);\n    \n    // 简短格式的主色（指向 500 级别）\n    vars['--primary'] = colors.primary[500];\n    vars['--secondary'] = colors.secondary[500];\n    vars['--success'] = colors.success[500];\n    vars['--warning'] = colors.warning[500];\n    vars['--error'] = colors.error[500];\n    vars['--destructive'] = colors.error[500]; // 别名\n    vars['--info'] = colors.info[500];\n\n    // 语义化颜色（使用简短的变量名，方便使用）\n    Object.entries(colors.semantic).forEach(([key, value]) => {\n      const kebabKey = this.camelToKebab(key);\n      vars[`--${kebabKey}`] = value; // 简短格式：--background\n      vars[`--color-${kebabKey}`] = value; // 完整格式：--color-background（兼容）\n    });\n\n    // === 间距变量 ===\n    Object.entries(spacing).forEach(([key, value]) => {\n      vars[`--spacing-${key}`] = value;\n    });\n\n    // === 字体变量 ===\n    vars['--font-family'] = typography.fontFamily.sans.join(', '); // 简短格式\n    vars['--font-family-sans'] = typography.fontFamily.sans.join(', ');\n    vars['--font-family-mono'] = typography.fontFamily.mono.join(', ');\n\n    Object.entries(typography.fontSize).forEach(([key, value]) => {\n      vars[`--font-size-${key}`] = value;\n    });\n\n    Object.entries(typography.fontWeight).forEach(([key, value]) => {\n      vars[`--font-weight-${key}`] = String(value);\n    });\n\n    Object.entries(typography.lineHeight).forEach(([key, value]) => {\n      vars[`--line-height-${key}`] = String(value);\n    });\n\n    // === 圆角变量 ===\n    Object.entries(borderRadius).forEach(([key, value]) => {\n      vars[`--radius-${key}`] = value; // 简短格式：--radius-md\n      vars[`--border-radius-${key}`] = value; // 完整格式（兼容）\n    });\n\n    // === 边框变量 ===\n    if (borders) {\n      // 边框宽度\n      Object.entries(borders.width).forEach(([key, value]) => {\n        vars[`--border-width-${key}`] = value;\n      });\n\n      // 边框样式\n      Object.entries(borders.style).forEach(([key, value]) => {\n        vars[`--border-style-${key}`] = value;\n      });\n\n      // 组合边框（宽度 + 样式）\n      Object.entries(borders.composite).forEach(([key, value]) => {\n        vars[`--border-${key}`] = value;\n      });\n\n      // 边框颜色\n      if (borders.colors) {\n        Object.entries(borders.colors).forEach(([key, value]) => {\n          vars[`--border-color-${key}`] = value;\n        });\n      }\n\n      // 完整边框定义（宽度 + 样式 + 颜色）\n      if (borders.colors) {\n        Object.entries(borders.composite).forEach(([key, value]) => {\n          const color = borders.colors![key as keyof typeof borders.colors];\n          vars[`--border-full-${key}`] = value === '0' ? 'none' : `${value} ${color}`;\n        });\n      }\n    }\n\n    // === 阴影变量 ===\n    Object.entries(shadows).forEach(([key, value]) => {\n      vars[`--shadow-${key}`] = value;\n    });\n\n    // === 动画变量 ===\n    Object.entries(animation.duration).forEach(([key, value]) => {\n      vars[`--animation-duration-${key}`] = value;\n    });\n\n    Object.entries(animation.easing).forEach(([key, value]) => {\n      vars[`--animation-easing-${key}`] = value;\n    });\n\n    return vars;\n  }\n\n  /**\n   * 转换为 Tailwind CSS 配置\n   */\n  public toTailwindConfig(): TailwindTheme {\n    const { colors, spacing, typography, borderRadius, borders, shadows } = this.config;\n\n    return {\n      theme: {\n        extend: {\n          // 颜色扩展\n          colors: {\n            primary: this.colorScaleToObject(colors.primary),\n            secondary: this.colorScaleToObject(colors.secondary),\n            success: this.colorScaleToObject(colors.success),\n            warning: this.colorScaleToObject(colors.warning),\n            error: this.colorScaleToObject(colors.error),\n            info: this.colorScaleToObject(colors.info),\n            neutral: this.colorScaleToObject(colors.neutral),\n\n            // 语义化颜色（使用 CSS Variables）\n            background: 'var(--color-background)',\n            foreground: 'var(--color-foreground)',\n            'content-bg': 'var(--color-content-bg)',\n            card: 'var(--color-card)',\n            'card-foreground': 'var(--color-card-foreground)',\n            'card-border': 'var(--color-card-border)',\n            border: 'var(--color-border)',\n            input: 'var(--color-input)',\n            muted: 'var(--color-muted)',\n            'muted-foreground': 'var(--color-muted-foreground)',\n            accent: 'var(--color-accent)',\n            'accent-foreground': 'var(--color-accent-foreground)',\n            destructive: 'var(--color-destructive)',\n            'destructive-foreground': 'var(--color-destructive-foreground)',\n            link: 'var(--color-link)',\n            'link-hover': 'var(--color-link-hover)',\n          },\n\n          // 间距扩展\n          spacing: {\n            ...spacing,\n          },\n\n          // 字体扩展\n          fontFamily: {\n            sans: typography.fontFamily.sans,\n            mono: typography.fontFamily.mono,\n          },\n\n          fontSize: {\n            ...typography.fontSize,\n          },\n\n          fontWeight: {\n            ...typography.fontWeight,\n          },\n\n          lineHeight: {\n            ...typography.lineHeight,\n          },\n\n          // 圆角扩展\n          borderRadius: {\n            ...borderRadius,\n          },\n\n          // 边框宽度扩展\n          ...(borders && {\n            borderWidth: {\n              ...borders.width,\n            },\n          }),\n\n          // 边框样式（Tailwind 原生支持，仅作为参考）\n          // borderStyle: solid, dashed, dotted, double, none\n\n          // 阴影扩展\n          boxShadow: {\n            ...shadows,\n          },\n        },\n      },\n    };\n  }\n\n  /**\n   * 转换所有格式\n   */\n  public transformAll(): TransformedTheme {\n    return {\n      antd: this.toAntdTheme(),\n      cssVars: this.toCSSVariables(),\n      tailwind: this.toTailwindConfig(),\n    };\n  }\n\n  // === 辅助方法 ===\n\n  /**\n   * 驼峰转短横线\n   */\n  private camelToKebab(str: string): string {\n    return str.replace(/[A-Z]/g, (letter) => `-${letter.toLowerCase()}`);\n  }\n\n  /**\n   * 添加颜色梯度到 CSS Variables\n   */\n  private addColorScale(vars: CSSVariables, name: string, scale: ColorScale): void {\n    Object.entries(scale).forEach(([key, value]) => {\n      vars[`--color-${name}-${key}`] = value;\n    });\n  }\n\n  /**\n   * 颜色梯度转对象\n   */\n  private colorScaleToObject(scale: ColorScale): Record<string, string> {\n    return { ...scale, DEFAULT: scale[500] };\n  }\n}\n\n/**\n * 快捷函数：从主题配置生成所有需要的输出\n */\nexport function transformTheme(config: ThemeConfig): TransformedTheme {\n  const transformer = new ThemeTransformer(config);\n  return transformer.transformAll();\n}\n\n/**\n * 应用 CSS Variables 到文档\n */\nexport function applyCSSVariables(cssVars: CSSVariables): void {\n  Object.entries(cssVars).forEach(([key, value]) => {\n    document.documentElement.style.setProperty(key, value);\n  });\n}\n\n/**\n * 从 JSON 加载主题配置\n */\nexport async function loadThemeFromJSON(jsonPath: string): Promise<ThemeConfig> {\n  const response = await fetch(jsonPath);\n  const config = await response.json();\n  return config as ThemeConfig;\n}\n\n","function _interopRequireDefault(e) {\n  return e && e.__esModule ? e : {\n    \"default\": e\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _common = require(\"./common\");\nvar locale = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, _common.commonLocale), {}, {\n  locale: 'zh_CN',\n  today: '今天',\n  now: '此刻',\n  backToToday: '返回今天',\n  ok: '确定',\n  timeSelect: '选择时间',\n  dateSelect: '选择日期',\n  weekSelect: '选择周',\n  clear: '清除',\n  week: '周',\n  month: '月',\n  year: '年',\n  previousMonth: '上个月 (翻页上键)',\n  nextMonth: '下个月 (翻页下键)',\n  monthSelect: '选择月份',\n  yearSelect: '选择年份',\n  decadeSelect: '选择年代',\n  previousYear: '上一年 (Control键加左方向键)',\n  nextYear: '下一年 (Control键加右方向键)',\n  previousDecade: '上一年代',\n  nextDecade: '下一年代',\n  previousCentury: '上一世纪',\n  nextCentury: '下一世纪',\n  yearFormat: 'YYYY年',\n  cellDateFormat: 'D',\n  monthBeforeYear: false\n});\nvar _default = exports.default = locale;","var defineProperty = require(\"./defineProperty.js\");\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.commonLocale = void 0;\nvar commonLocale = exports.commonLocale = {\n  yearFormat: 'YYYY',\n  dayFormat: 'D',\n  cellMeridiemFormat: 'A',\n  monthBeforeYear: true\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst locale = {\n  placeholder: '请选择时间',\n  rangePlaceholder: ['开始时间', '结束时间']\n};\nvar _default = exports.default = locale;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _zh_CN = _interopRequireDefault(require(\"rc-picker/lib/locale/zh_CN\"));\nvar _zh_CN2 = _interopRequireDefault(require(\"../../time-picker/locale/zh_CN\"));\n// 统一合并为完整的 Locale\nconst locale = {\n  lang: Object.assign({\n    placeholder: '请选择日期',\n    yearPlaceholder: '请选择年份',\n    quarterPlaceholder: '请选择季度',\n    monthPlaceholder: '请选择月份',\n    weekPlaceholder: '请选择周',\n    rangePlaceholder: ['开始日期', '结束日期'],\n    rangeYearPlaceholder: ['开始年份', '结束年份'],\n    rangeMonthPlaceholder: ['开始月份', '结束月份'],\n    rangeQuarterPlaceholder: ['开始季度', '结束季度'],\n    rangeWeekPlaceholder: ['开始周', '结束周']\n  }, _zh_CN.default),\n  timePickerLocale: Object.assign({}, _zh_CN2.default)\n};\n// should add whitespace between char in Button\nlocale.lang.ok = '确定';\n// All settings at:\n// https://github.com/ant-design/ant-design/blob/master/components/date-picker/locale/example.json\nvar _default = exports.default = locale;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _zh_CN = _interopRequireDefault(require(\"../../date-picker/locale/zh_CN\"));\nvar _default = exports.default = _zh_CN.default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _zh_CN = _interopRequireDefault(require(\"rc-pagination/lib/locale/zh_CN\"));\nvar _zh_CN2 = _interopRequireDefault(require(\"../calendar/locale/zh_CN\"));\nvar _zh_CN3 = _interopRequireDefault(require(\"../date-picker/locale/zh_CN\"));\nvar _zh_CN4 = _interopRequireDefault(require(\"../time-picker/locale/zh_CN\"));\nconst typeTemplate = '${label}不是一个有效的${type}';\nconst localeValues = {\n  locale: 'zh-cn',\n  Pagination: _zh_CN.default,\n  DatePicker: _zh_CN3.default,\n  TimePicker: _zh_CN4.default,\n  Calendar: _zh_CN2.default,\n  // locales for all components\n  global: {\n    placeholder: '请选择',\n    close: '关闭'\n  },\n  Table: {\n    filterTitle: '筛选',\n    filterConfirm: '确定',\n    filterReset: '重置',\n    filterEmptyText: '无筛选项',\n    filterCheckAll: '全选',\n    filterSearchPlaceholder: '在筛选项中搜索',\n    emptyText: '暂无数据',\n    selectAll: '全选当页',\n    selectInvert: '反选当页',\n    selectNone: '清空所有',\n    selectionAll: '全选所有',\n    sortTitle: '排序',\n    expand: '展开行',\n    collapse: '关闭行',\n    triggerDesc: '点击降序',\n    triggerAsc: '点击升序',\n    cancelSort: '取消排序'\n  },\n  Modal: {\n    okText: '确定',\n    cancelText: '取消',\n    justOkText: '知道了'\n  },\n  Tour: {\n    Next: '下一步',\n    Previous: '上一步',\n    Finish: '结束导览'\n  },\n  Popconfirm: {\n    cancelText: '取消',\n    okText: '确定'\n  },\n  Transfer: {\n    titles: ['', ''],\n    searchPlaceholder: '请输入搜索内容',\n    itemUnit: '项',\n    itemsUnit: '项',\n    remove: '删除',\n    selectCurrent: '全选当页',\n    removeCurrent: '删除当页',\n    selectAll: '全选所有',\n    deselectAll: '取消全选',\n    removeAll: '删除全部',\n    selectInvert: '反选当页'\n  },\n  Upload: {\n    uploading: '文件上传中',\n    removeFile: '删除文件',\n    uploadError: '上传错误',\n    previewFile: '预览文件',\n    downloadFile: '下载文件'\n  },\n  Empty: {\n    description: '暂无数据'\n  },\n  Icon: {\n    icon: '图标'\n  },\n  Text: {\n    edit: '编辑',\n    copy: '复制',\n    copied: '复制成功',\n    expand: '展开',\n    collapse: '收起'\n  },\n  Form: {\n    optional: '（可选）',\n    defaultValidateMessages: {\n      default: '字段验证错误${label}',\n      required: '请输入${label}',\n      enum: '${label}必须是其中一个[${enum}]',\n      whitespace: '${label}不能为空字符',\n      date: {\n        format: '${label}日期格式无效',\n        parse: '${label}不能转换为日期',\n        invalid: '${label}是一个无效日期'\n      },\n      types: {\n        string: typeTemplate,\n        method: typeTemplate,\n        array: typeTemplate,\n        object: typeTemplate,\n        number: typeTemplate,\n        date: typeTemplate,\n        boolean: typeTemplate,\n        integer: typeTemplate,\n        float: typeTemplate,\n        regexp: typeTemplate,\n        email: typeTemplate,\n        url: typeTemplate,\n        hex: typeTemplate\n      },\n      string: {\n        len: '${label}须为${len}个字符',\n        min: '${label}最少${min}个字符',\n        max: '${label}最多${max}个字符',\n        range: '${label}须在${min}-${max}字符之间'\n      },\n      number: {\n        len: '${label}必须等于${len}',\n        min: '${label}最小值为${min}',\n        max: '${label}最大值为${max}',\n        range: '${label}须在${min}-${max}之间'\n      },\n      array: {\n        len: '须为${len}个${label}',\n        min: '最少${min}个${label}',\n        max: '最多${max}个${label}',\n        range: '${label}数量须在${min}-${max}之间'\n      },\n      pattern: {\n        mismatch: '${label}与模式不匹配${pattern}'\n      }\n    }\n  },\n  Image: {\n    preview: '预览'\n  },\n  QRCode: {\n    expired: '二维码过期',\n    refresh: '点击刷新',\n    scanned: '已扫描'\n  },\n  ColorPicker: {\n    presetEmpty: '暂无',\n    transparent: '无色',\n    singleColor: '单色',\n    gradientColor: '渐变色'\n  }\n};\nvar _default = exports.default = localeValues;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar locale = {\n  // Options\n  items_per_page: '条/页',\n  jump_to: '跳至',\n  jump_to_confirm: '确定',\n  page: '页',\n  // Pagination\n  prev_page: '上一页',\n  next_page: '下一页',\n  prev_5: '向前 5 页',\n  next_5: '向后 5 页',\n  prev_3: '向前 3 页',\n  next_3: '向后 3 页',\n  page_size: '页码'\n};\nvar _default = exports.default = locale;","module.exports = require('../lib/locale/zh_CN');","/**\n * 主题提供者组件（核心实现，框架无关）\n * 统一管理 Ant Design 和 CSS Variables 的主题应用\n * \n * @description 核心逻辑框架无关，通过适配器适配不同框架\n * @version 1.0.0\n */\n\nimport React, { createContext, useContext, useEffect, useState, useMemo, useCallback } from 'react';\nimport { ConfigProvider } from 'antd';\nimport zhCN from 'antd/locale/zh_CN';\nimport { transformTheme, applyCSSVariables } from '../transformer';\nimport type { ThemeConfig, TransformedTheme } from '../tokens/types';\n\n/**\n * 主题注册表（由适配器填充）\n */\nlet THEME_REGISTRY: Record<string, ThemeConfig> = {};\n\n/**\n * 注册主题到系统\n * @param themeName 主题名称\n * @param themeConfig 主题配置\n */\nexport const registerTheme = (themeName: string, themeConfig: ThemeConfig): void => {\n  THEME_REGISTRY[themeName] = themeConfig;\n  console.log(`✅ 主题 \"${themeName}\" 已注册`);\n};\n\n/**\n * 批量注册主题\n * @param themes 主题映射对象\n */\nexport const registerThemes = (themes: Record<string, ThemeConfig>): void => {\n  THEME_REGISTRY = { ...THEME_REGISTRY, ...themes };\n  console.log(`✅ 已注册 ${Object.keys(themes).length} 个主题`);\n};\n\n/**\n * 注销主题\n * @param themeName 主题名称\n */\nexport const unregisterTheme = (themeName: string): void => {\n  delete THEME_REGISTRY[themeName];\n  console.log(`主题 \"${themeName}\" 已注销`);\n};\n\n/**\n * 获取所有已注册的主题\n */\nexport const getRegisteredThemes = (): Record<string, ThemeConfig> => {\n  return THEME_REGISTRY;\n};\n\n/**\n * 主题上下文类型\n */\nexport interface ThemeContextType {\n  currentTheme: string;\n  themeConfig: ThemeConfig | null;\n  transformedTheme: TransformedTheme | null;\n  switchTheme: (themeName: string) => void;\n  availableThemes: string[];\n  isDarkMode?: boolean; // Next.js 专用\n}\n\n/**\n * 主题上下文\n */\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\n/**\n * 主题提供者属性\n */\nexport interface ThemeProviderProps {\n  children: React.ReactNode;\n  defaultTheme?: string; // 默认主题名称\n  enableStorage?: boolean; // 是否启用 localStorage 持久化\n  storageKey?: string; // localStorage 存储键名\n}\n\n/**\n * 主题提供者组件（核心实现）\n * \n * @description 框架无关的核心实现，支持 SSR\n */\nexport const ThemeProvider: React.FC<ThemeProviderProps> = ({\n  children,\n  defaultTheme: defaultThemeName = 'default',\n  enableStorage = true,\n  storageKey = 'km-theme',\n}) => {\n  // 从 localStorage 恢复主题（如果启用，SSR 安全）\n  const getInitialTheme = useCallback((): string => {\n    if (!enableStorage || typeof window === 'undefined') {\n      return defaultThemeName;\n    }\n\n    try {\n      const stored = localStorage.getItem(storageKey);\n      const availableThemes = Object.keys(THEME_REGISTRY);\n      if (stored && availableThemes.includes(stored)) {\n        return stored;\n      }\n    } catch (error) {\n      console.warn('Failed to load theme from localStorage:', error);\n    }\n    return defaultThemeName;\n  }, [enableStorage, storageKey, defaultThemeName]);\n\n  const [currentTheme, setCurrentTheme] = useState<string>(getInitialTheme);\n  const [mounted, setMounted] = useState(false);\n\n  // 确保组件已挂载（避免 SSR 问题）\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  // 获取当前主题配置（支持 localStorage 覆盖）\n  const themeConfig = useMemo(() => {\n    const config = THEME_REGISTRY[currentTheme];\n    \n    if (!config) {\n      console.warn(`主题 \"${currentTheme}\" 未找到，使用默认主题`);\n      return THEME_REGISTRY[defaultThemeName] || Object.values(THEME_REGISTRY)[0] || null;\n    }\n    \n    // 检查是否有 localStorage 中的覆盖配置\n    if (enableStorage && mounted && typeof window !== 'undefined') {\n      try {\n        const overrideKey = `km-theme-override-${currentTheme}`;\n        const overrideConfig = localStorage.getItem(overrideKey);\n        \n        if (overrideConfig) {\n          const parsedConfig = JSON.parse(overrideConfig) as ThemeConfig;\n          console.log(`✅ 已加载主题覆盖配置: ${currentTheme}`);\n          return parsedConfig;\n        }\n      } catch (error) {\n        console.warn(`Failed to load theme override for ${currentTheme}:`, error);\n      }\n    }\n    \n    return config;\n  }, [currentTheme, enableStorage, mounted, defaultThemeName]);\n\n  // 转换主题配置\n  const transformedTheme = useMemo(() => {\n    if (!themeConfig) return null;\n    return transformTheme(themeConfig);\n  }, [themeConfig]);\n\n  // 是否为暗色模式\n  const isDarkMode = useMemo(() => {\n    return themeConfig?.meta.mode === 'dark';\n  }, [themeConfig]);\n\n  // 切换主题\n  const switchTheme = useCallback((themeName: string) => {\n    const availableThemes = Object.keys(THEME_REGISTRY);\n    \n    if (!availableThemes.includes(themeName)) {\n      console.warn(`Theme \"${themeName}\" not found, available themes:`, availableThemes);\n      return;\n    }\n\n    setCurrentTheme(themeName);\n\n    // 保存到 localStorage\n    if (enableStorage && typeof window !== 'undefined') {\n      try {\n        localStorage.setItem(storageKey, themeName);\n      } catch (error) {\n        console.warn('Failed to save theme to localStorage:', error);\n      }\n    }\n  }, [enableStorage, storageKey]);\n\n  // 应用 CSS Variables（SSR 安全）\n  useEffect(() => {\n    if (!mounted || !transformedTheme || typeof document === 'undefined') return;\n\n    applyCSSVariables(transformedTheme.cssVars);\n\n    // 设置 HTML 和 body 的属性用于特殊样式\n    document.documentElement.setAttribute('data-theme', currentTheme);\n    document.documentElement.setAttribute('data-theme-mode', themeConfig?.meta.mode || 'light');\n    document.body.setAttribute('data-theme', currentTheme);\n    document.body.setAttribute('data-theme-mode', themeConfig?.meta.mode || 'light');\n\n    // 清理\n    return () => {\n      if (typeof document !== 'undefined') {\n        document.documentElement.removeAttribute('data-theme');\n        document.documentElement.removeAttribute('data-theme-mode');\n        document.body.removeAttribute('data-theme');\n        document.body.removeAttribute('data-theme-mode');\n      }\n    };\n  }, [transformedTheme, currentTheme, themeConfig, mounted]);\n\n  // 上下文值\n  const contextValue: ThemeContextType = useMemo(() => ({\n    currentTheme,\n    themeConfig,\n    transformedTheme,\n    switchTheme,\n    availableThemes: Object.keys(THEME_REGISTRY),\n    isDarkMode,\n  }), [currentTheme, themeConfig, transformedTheme, switchTheme, isDarkMode]);\n\n  // SSR 期间使用默认配置，避免闪烁\n  if (!mounted) {\n    const defaultConfig = THEME_REGISTRY[defaultThemeName] || Object.values(THEME_REGISTRY)[0];\n    const defaultTransformed = defaultConfig ? transformTheme(defaultConfig) : null;\n\n    return (\n      <ThemeContext.Provider value={{\n        currentTheme: defaultThemeName,\n        themeConfig: defaultConfig || null,\n        transformedTheme: defaultTransformed,\n        switchTheme: () => {},\n        availableThemes: Object.keys(THEME_REGISTRY),\n        isDarkMode: defaultConfig?.meta.mode === 'dark',\n      }}>\n        <ConfigProvider \n          theme={defaultTransformed?.antd} \n          locale={zhCN}\n        >\n          {children}\n        </ConfigProvider>\n      </ThemeContext.Provider>\n    );\n  }\n\n  return (\n    <ThemeContext.Provider value={contextValue}>\n      <ConfigProvider \n        theme={transformedTheme?.antd} \n        locale={zhCN}\n      >\n        {children}\n      </ConfigProvider>\n    </ThemeContext.Provider>\n  );\n};\n\n/**\n * 使用主题 Hook\n */\nexport function useTheme(): ThemeContextType {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error('useTheme must be used within ThemeProvider');\n  }\n  return context;\n}\n\n/**\n * 获取已注册主题列表\n */\nexport const getAvailableThemes = (): string[] => {\n  return Object.keys(THEME_REGISTRY);\n};\n\n/**\n * 获取主题元信息\n */\nexport function getThemeMetadata(themeName: string) {\n  const theme = THEME_REGISTRY[themeName];\n  return theme ? theme.meta : null;\n}\n\n/**\n * 检查主题是否已注册\n */\nexport function isThemeRegistered(themeName: string): boolean {\n  return themeName in THEME_REGISTRY;\n}\n\n/**\n * 检查是否为预设主题（需要适配器提供预设主题列表）\n */\nexport function isPresetTheme(themeName: string): boolean {\n  // 这个函数由适配器实现，这里提供默认实现\n  return ['default', 'light', 'dark', 'spring-festival', 'km-base'].includes(themeName);\n}\n\n","/**\n * Next.js 适配器\n * 使用静态导入注册预设主题\n * \n * ⚠️ 此文件由 scripts/generate-theme-imports.js 自动生成\n * 请勿手动修改！如需添加新主题，请将主题文件放入 presets/ 目录，然后运行：\n * pnpm run generate:themes\n */\n\n'use client';\n\nimport React, { useEffect } from 'react';\nimport { ThemeProvider, registerThemes, type ThemeProviderProps } from './ThemeProvider';\n\n// 自动生成的预设主题导入\nimport defaultTheme from '../presets/default.json';\nimport darkTheme from '../presets/dark.json';\nimport forestTheme from '../presets/forest.json';\nimport kmBaseTheme from '../presets/km-base.json';\nimport kmFlowLightTheme from '../presets/km-flow-light-theme.json';\nimport partyTheme from '../presets/party.json';\nimport redTheme from '../presets/red-theme.json';\nimport springFestivalTheme from '../presets/spring-festival.json';\n\n/**\n * Next.js 主题提供者\n * \n * @description 静态导入并注册预设主题，适配 Next.js App Router\n * \n * @example\n * ```tsx\n * 'use client';\n * import { NextThemeProvider } from '@km-design/theme-system';\n * \n * export default function RootLayout({ children }) {\n *   return (\n *     <html>\n *       <body>\n *         <NextThemeProvider defaultTheme=\"light\">\n *           {children}\n *         </NextThemeProvider>\n *       </body>\n *     </html>\n *   );\n * }\n * ```\n */\nexport const NextThemeProvider: React.FC<ThemeProviderProps> = ({\n  children,\n  ...props\n}) => {\n  // 自动注册预设主题\n  useEffect(() => {\n    const themes: Record<string, any> = {\n      'default': defaultTheme,\n      'dark': darkTheme,\n      'forest': forestTheme,\n      'km-base': kmBaseTheme,\n      'km-flow-light-theme': kmFlowLightTheme,\n      'party': partyTheme,\n      'red-theme': redTheme,\n      'spring-festival': springFestivalTheme,\n      // 如果没有 light.json，使用 default 作为 light\n      light: defaultTheme,\n    };\n\n    registerThemes(themes);\n  }, []);\n\n  return <ThemeProvider {...props}>{children}</ThemeProvider>;\n};\n","/**\n * 主题切换器组件\n * 提供可视化的主题切换界面\n */\n\nimport React from 'react';\nimport { Dropdown, Button, Space, Tag } from 'antd';\nimport { BgColorsOutlined, CheckOutlined } from '@ant-design/icons';\nimport { useTheme, getThemeMetadata } from '../provider/ThemeProvider';\nimport type { MenuProps } from 'antd';\n\n// 按钮样式对象\nconst buttonStyle: React.CSSProperties = {\n  backgroundColor: 'var(--primary)',\n  color: 'var(--primary-foreground)',\n  borderColor: 'var(--primary)',\n  boxShadow: '0 2px 8px rgba(0, 0, 0, 0.15)',\n  fontWeight: 500,\n  transition: 'all 0.3s ease',\n};\n\n// 内联样式用于 hover 效果\nconst hoverEffectClass = `\n  .theme-switcher-button:hover {\n    opacity: 0.9;\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;\n  }\n  .theme-switcher-button:active {\n    transform: translateY(0);\n  }\n`;\n\n/**\n * 主题切换器属性\n */\ninterface ThemeSwitcherProps {\n  type?: 'button' | 'dropdown'; // 显示类型\n  showIcon?: boolean; // 是否显示图标\n  size?: 'small' | 'middle' | 'large'; // 按钮大小\n  className?: string; // 自定义类名\n}\n\n/**\n * 主题切换器组件\n */\nconst ThemeSwitcher: React.FC<ThemeSwitcherProps> = ({\n  type = 'dropdown',\n  showIcon = true,\n  size = 'middle',\n  className,\n}) => {\n  const { currentTheme, switchTheme, availableThemes } = useTheme();\n\n  // 注入全局样式\n  React.useEffect(() => {\n    const styleId = 'theme-switcher-styles';\n    if (!document.getElementById(styleId)) {\n      const style = document.createElement('style');\n      style.id = styleId;\n      style.innerHTML = hoverEffectClass;\n      document.head.appendChild(style);\n    }\n  }, []);\n\n  // 生成菜单项\n  const menuItems: MenuProps['items'] = availableThemes.map((themeName) => {\n    const metadata = getThemeMetadata(themeName);\n    const isActive = currentTheme === themeName;\n\n    return {\n      key: themeName,\n      label: (\n        <Space>\n          <span>{metadata?.name || themeName}</span>\n          {isActive && <CheckOutlined style={{ color: '#52c41a' }} />}\n          {metadata?.mode === 'dark' && <Tag color=\"blue\">暗色</Tag>}\n          {metadata?.type === 'festival' && <Tag color=\"red\">节日</Tag>}\n        </Space>\n      ),\n      onClick: () => switchTheme(themeName),\n    };\n  });\n\n  // 按钮类型\n  if (type === 'button') {\n    const metadata = getThemeMetadata(currentTheme);\n    return (\n      <Button\n        type=\"default\"\n        size={size}\n        className={`theme-switcher-button ${className || ''}`}\n        icon={showIcon ? <BgColorsOutlined /> : undefined}\n        style={buttonStyle}\n        onClick={() => {\n          // 简单轮换主题\n          const currentIndex = availableThemes.indexOf(currentTheme);\n          const nextIndex = (currentIndex + 1) % availableThemes.length;\n          switchTheme(availableThemes[nextIndex]);\n        }}\n      >\n        {metadata?.name || currentTheme}\n      </Button>\n    );\n  }\n\n  // 下拉菜单类型（默认）\n  const metadata = getThemeMetadata(currentTheme);\n  return (\n    <Dropdown menu={{ items: menuItems }} placement=\"bottomRight\" trigger={['click']}>\n      <Button\n        type=\"default\"\n        size={size}\n        className={`theme-switcher-button ${className || ''}`}\n        icon={showIcon ? <BgColorsOutlined /> : undefined}\n        style={buttonStyle}\n      >\n        {metadata?.name || currentTheme}\n      </Button>\n    </Dropdown>\n  );\n};\n\nexport default ThemeSwitcher;\nexport { ThemeSwitcher };\n\n","/**\n * 主题编辑器组件\n * 提供可视化的主题配置界面，支持导入导出 JSON 配置\n */\n\nimport React, { useState, useMemo } from 'react';\nimport {\n  Drawer,\n  Tabs,\n  ColorPicker,\n  InputNumber,\n  Input,\n  Button,\n  Space,\n  Typography,\n  Divider,\n  message,\n  Upload,\n  Card,\n  Radio,\n  Select,\n  Collapse,\n  Tooltip,\n  Modal,\n  Slider,\n} from 'antd';\nimport {\n  DownloadOutlined,\n  UploadOutlined,\n  ReloadOutlined,\n  SaveOutlined,\n  BgColorsOutlined,\n  FontSizeOutlined,\n  BorderOutlined,\n  ColumnWidthOutlined,\n  CheckCircleOutlined,\n  DeleteOutlined,\n  PlusOutlined,\n} from '@ant-design/icons';\nimport type { Color, ColorPickerProps } from 'antd/es/color-picker';\nimport { debounce } from 'lodash';\nimport {\n  useTheme,\n  getThemeMetadata,\n  isPresetTheme,\n  registerTheme,\n  unregisterTheme,\n} from '../provider/ThemeProvider';\nimport type { ThemeConfig } from '../tokens/types';\nimport { ThemeTransformer, applyCSSVariables } from '../transformer';\nimport './ThemeEditor.less';\n\nconst { Title, Text, Paragraph } = Typography;\nconst { TextArea } = Input;\n\ninterface ThemeEditorProps {\n  open: boolean;\n  onClose: () => void;\n}\n\n/**\n * 主题编辑器组件\n */\nexport const ThemeEditor: React.FC<ThemeEditorProps> = ({ open, onClose }) => {\n  const { currentTheme, themeConfig, switchTheme, availableThemes } = useTheme();\n  // 确保 themeConfig 不为 null\n  const safeThemeConfig = themeConfig || ({} as ThemeConfig);\n  const [editingConfig, setEditingConfig] = useState<ThemeConfig>(safeThemeConfig);\n  const [originalConfig, setOriginalConfig] = useState<ThemeConfig>(safeThemeConfig); // 保存原始配置\n  const [presetOriginalConfig, setPresetOriginalConfig] = useState<ThemeConfig | null>(null); // 保存预设主题的真正原始配置\n  const [activeTab, setActiveTab] = useState('themes');\n  const [refreshKey, setRefreshKey] = useState(0); // 用于强制刷新主题列表\n\n  // 当抽屉打开时，保存当前配置作为原始配置，并加载自定义主题到系统\n  React.useEffect(() => {\n    if (open && themeConfig) {\n      setOriginalConfig(themeConfig);\n      setEditingConfig(themeConfig);\n      \n      // 如果是预设主题，尝试从预设文件中加载真正的原始配置\n      if (isPresetTheme(currentTheme)) {\n        try {\n          // 预设主题已经在 ThemeProvider 中加载，可以直接获取\n          // 但可能被 localStorage 覆盖了，所以这里保存当前配置作为备份\n          setPresetOriginalConfig(themeConfig);\n        } catch (error) {\n          console.error('获取预设主题原始配置失败:', error);\n          setPresetOriginalConfig(null);\n        }\n      } else {\n        setPresetOriginalConfig(null);\n      }\n      \n      // 从 localStorage 加载自定义主题并注册到系统\n      for (let i = 0; i < localStorage.length; i++) {\n        const key = localStorage.key(i);\n        if (key?.startsWith('km-theme-custom-')) {\n          try {\n            const themeData = localStorage.getItem(key);\n            if (themeData) {\n              const themeName = key.replace('km-theme-', '');\n              const themeConfig = JSON.parse(themeData);\n              registerTheme(themeName, themeConfig);\n            }\n          } catch (error) {\n            console.error('加载主题失败:', key, error);\n          }\n        }\n      }\n      \n      // 强制刷新\n      setRefreshKey(prev => prev + 1);\n    }\n  }, [open, themeConfig, currentTheme]);\n\n  // 颜色转换辅助函数\n  const colorToHex = (color?: Color | string | null): string => {\n    if (!color) return '#000000';\n    if (typeof color === 'string') return color;\n    return color.toHexString();\n  };\n\n  // 更新配置（实时应用）\n  const updateConfig = React.useCallback((path: string[], value: any) => {\n    let updatedConfig: ThemeConfig | null = null;\n    \n    setEditingConfig((prev) => {\n      const newConfig = JSON.parse(JSON.stringify(prev));\n      let current = newConfig;\n      for (let i = 0; i < path.length - 1; i++) {\n        current = current[path[i]];\n      }\n      current[path[path.length - 1]] = value;\n      \n      updatedConfig = newConfig;\n      \n      // 实时应用配置（通过 CSS 变量）\n      applyConfigRealtime(newConfig);\n      \n      return newConfig;\n    });\n    \n    return updatedConfig;\n  }, []);\n\n  // 实时应用配置\n  const applyConfigRealtime = (config: ThemeConfig) => {\n    try {\n      const transformer = new ThemeTransformer(config);\n      const cssVars = transformer.toCSSVariables();\n      applyCSSVariables(cssVars);\n    } catch (error) {\n      console.error('应用主题配置失败:', error);\n    }\n  };\n\n  // 导出配置\n  const handleExport = () => {\n    const dataStr = JSON.stringify(editingConfig, null, 2);\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `theme-${Date.now()}.json`;\n    link.click();\n    URL.revokeObjectURL(url);\n    message.success('主题配置已导出');\n  };\n\n  // 导入配置（添加新主题并立即切换）\n  const handleImport = (file: File) => {\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const config = JSON.parse(e.target?.result as string) as ThemeConfig;\n        \n        // 生成新主题key和名称\n        const themeKey = `custom-${Date.now()}`;\n        const themeName = config.meta?.name || `导入主题-${Date.now()}`;\n        const fileName = `${themeKey}.json`;\n        \n        // 更新配置中的名称\n        config.meta = {\n          ...config.meta,\n          name: themeName,\n        };\n        \n        // 1. 保存到 localStorage（临时持久化）\n        localStorage.setItem(`km-theme-${themeKey}`, JSON.stringify(config));\n        \n        // 2. 注册到主题系统（立即可用）\n        registerTheme(themeKey, config);\n        \n        // 3. 切换到新导入的主题\n        switchTheme(themeKey);\n        \n        // 4. 更新编辑配置\n        setEditingConfig(config);\n        \n        // 5. 强制刷新列表\n        setRefreshKey(prev => prev + 1);\n        \n        Modal.info({\n          title: '主题已导入',\n          content: (\n            <div>\n              <p>✅ 主题\"{themeName}\"已导入并保存到浏览器缓存</p>\n              <p>⚠️ <strong>注意：</strong>清除浏览器缓存后主题将丢失</p>\n              <p style={{ marginTop: 16, padding: 12, background: '#fff3cd', borderRadius: 4 }}>\n                💡 <strong>永久保存方法：</strong><br/>\n                1. 点击右上角\"导出\"按钮导出主题文件<br/>\n                2. 将文件重命名为有意义的名称（如 <code>my-theme.json</code>）<br/>\n                3. 放到以下目录：<br/>\n                <code style={{ fontSize: 12 }}>\n                  km-artizen-ui/apps/km-artizen-ai-ui/src/theme/presets/\n                </code><br/>\n                4. 在 <code>ThemeProvider.tsx</code> 中导入该文件\n              </p>\n            </div>\n          ),\n          width: 600,\n        });\n      } catch (error) {\n        message.error('配置文件格式错误');\n      }\n    };\n    reader.readAsText(file);\n    return false; // 阻止默认上传行为\n  };\n\n  // 保存当前编辑为新主题\n  const handleSaveAsNewTheme = () => {\n    const themeName = prompt('请输入新主题名称：', `自定义主题-${new Date().toLocaleDateString()}`);\n    if (!themeName) return;\n    \n    // 更新主题配置的名称\n    const newConfig = {\n      ...editingConfig,\n      meta: {\n        ...editingConfig.meta,\n        name: themeName,\n      },\n    };\n    \n    const themeKey = `custom-${Date.now()}`;\n    const fileName = `${themeKey}.json`;\n    \n    // 1. 保存到 localStorage（临时持久化）\n    localStorage.setItem(`km-theme-${themeKey}`, JSON.stringify(newConfig));\n    \n    // 2. 注册到主题系统（立即可用）\n    registerTheme(themeKey, newConfig);\n    \n    // 3. 切换到新保存的主题\n    switchTheme(themeKey);\n    \n    // 4. 强制刷新列表\n    setRefreshKey(prev => prev + 1);\n    \n    // 5. 自动导出主题文件\n    const dataStr = JSON.stringify(newConfig, null, 2);\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = fileName;\n    link.click();\n    URL.revokeObjectURL(url);\n    \n    Modal.info({\n      title: '主题已保存',\n      content: (\n        <div>\n          <p>✅ 主题\"{themeName}\"已保存到浏览器缓存</p>\n          <p>📥 主题文件已下载: <code>{fileName}</code></p>\n          <p style={{ marginTop: 16, padding: 12, background: '#f0f0f0', borderRadius: 4 }}>\n            💡 <strong>永久保存方法：</strong><br/>\n            请将下载的 JSON 文件放到以下目录：<br/>\n            <code style={{ fontSize: 12 }}>\n              km-artizen-ui/apps/km-artizen-ai-ui/src/theme/presets/\n            </code><br/>\n            然后在代码中导入该主题即可永久使用。\n          </p>\n        </div>\n      ),\n      width: 600,\n    });\n  };\n\n  // 保存当前修改（应用并持久化）\n  const handleSaveChanges = () => {\n    try {\n      // 检查是否有修改\n      const hasChanges = JSON.stringify(editingConfig) !== JSON.stringify(originalConfig);\n      \n      if (!hasChanges) {\n        message.info('没有需要保存的修改');\n        onClose();\n        return;\n      }\n\n      // 保存修改到 localStorage（覆盖方式）\n      const storageKey = `km-theme-override-${currentTheme}`;\n      localStorage.setItem(storageKey, JSON.stringify(editingConfig));\n      \n      // 如果是预设主题，注册覆盖版本\n      if (isPresetTheme(currentTheme)) {\n        // 注册覆盖版本（保持原主题名，但使用新配置）\n        registerTheme(currentTheme, editingConfig);\n      } else {\n        // 自定义主题直接更新\n        const customKey = `km-theme-${currentTheme}`;\n        localStorage.setItem(customKey, JSON.stringify(editingConfig));\n        registerTheme(currentTheme, editingConfig);\n      }\n      \n      // 应用配置\n      applyConfigRealtime(editingConfig);\n      \n      // 刷新主题（确保使用最新配置）\n      switchTheme(currentTheme);\n      \n      message.success({\n        content: '主题修改已保存',\n        duration: 3,\n      });\n      \n      onClose();\n    } catch (error) {\n      console.error('保存主题失败:', error);\n      message.error('保存失败，请重试');\n    }\n  };\n\n  // 取消编辑（恢复原始配置）\n  const handleCancel = () => {\n    // 恢复原始配置\n    applyConfigRealtime(originalConfig);\n    setEditingConfig(originalConfig);\n    onClose();\n  };\n\n  // 重置配置（清除所有修改，恢复到预设主题）\n  const handleReset = () => {\n    // 检查当前主题是否为预设主题\n    const isPreset = isPresetTheme(currentTheme);\n    const metadata = getThemeMetadata(currentTheme);\n    const themeName = metadata?.name || currentTheme;\n    \n    Modal.confirm({\n      title: '确认重置主题配置',\n      icon: <ReloadOutlined style={{ color: '#faad14' }} />,\n      content: (\n        <div>\n          {isPreset ? (\n            <>\n              <p>即将重置主题 <strong>\"{themeName}\"</strong> 到最原始的预设配置</p>\n              <p style={{ marginTop: 12, padding: 8, background: '#fff7e6', borderRadius: 4, fontSize: 13 }}>\n                ⚠️ <strong>注意：</strong>您的所有修改将被清除，此操作不可撤销\n              </p>\n            </>\n          ) : (\n            <>\n              <p>当前主题 <strong>\"{themeName}\"</strong> 是自定义主题</p>\n              <p style={{ marginTop: 12, padding: 8, background: '#fff7e6', borderRadius: 4, fontSize: 13 }}>\n                ⚠️ <strong>注意：</strong>重置将恢复到该主题最初保存时的状态\n              </p>\n            </>\n          )}\n        </div>\n      ),\n      okText: '确认重置',\n      okButtonProps: { danger: true },\n      cancelText: '取消',\n      width: 460,\n      onOk: () => {\n        try {\n          // 1. 清除 localStorage 中的覆盖配置\n          const overrideKey = `km-theme-override-${currentTheme}`;\n          const hadOverride = localStorage.getItem(overrideKey) !== null;\n          localStorage.removeItem(overrideKey);\n        \n          // 2. 如果是自定义主题，重新加载最初保存的版本\n          if (!isPreset) {\n            const customKey = `km-theme-${currentTheme}`;\n            const savedConfig = localStorage.getItem(customKey);\n            if (savedConfig) {\n              const parsedConfig = JSON.parse(savedConfig) as ThemeConfig;\n              registerTheme(currentTheme, parsedConfig);\n            }\n          }\n          \n          // 3. 关闭抽屉，触发重新打开以加载最新配置\n          onClose();\n          \n          // 4. 短暂延迟后重新切换主题，确保配置重新加载\n          setTimeout(() => {\n            // 触发主题刷新\n        switchTheme(currentTheme);\n        \n            message.success({\n              content: hadOverride \n                ? `主题\"${themeName}\"已重置为原始配置` \n                : `主题\"${themeName}\"已刷新`,\n              duration: 2,\n            });\n          }, 50);\n          \n        } catch (error) {\n          console.error('重置主题失败:', error);\n          message.error('重置失败，请重试');\n        }\n      },\n    });\n  };\n\n  // 删除主题\n  const handleDeleteTheme = (themeKey: string) => {\n    // 检查是否是预设主题\n    if (isPresetTheme(themeKey)) {\n      message.warning('默认主题不能删除');\n      return;\n    }\n    \n    const metadata = getThemeMetadata(themeKey);\n    const themeName = metadata?.name || themeKey;\n    \n    Modal.confirm({\n      title: '确认删除',\n      content: `确定要删除主题\"${themeName}\"吗？`,\n      onOk: () => {\n        // 1. 从 localStorage 删除\n        localStorage.removeItem(`km-theme-${themeKey}`);\n        \n        // 2. 从主题系统注销\n        unregisterTheme(themeKey);\n        \n        // 3. 如果删除的是当前主题，切换到默认主题\n        if (currentTheme === themeKey) {\n          switchTheme('default');\n        }\n        \n        // 4. 强制刷新列表\n        setRefreshKey(prev => prev + 1);\n        \n        message.success(`主题\"${themeName}\"已删除`);\n      },\n    });\n  };\n\n  // 颜色字段中文映射\n  const colorLabelMap: Record<string, string> = {\n    // 语义化颜色\n    background: '背景色',\n    foreground: '前景色',\n    card: '卡片背景',\n    cardForeground: '卡片文字',\n    cardBorder: '卡片边框',\n    border: '边框色',\n    input: '输入框边框',\n    muted: '静音背景',\n    mutedForeground: '静音文字',\n    accent: '强调背景',\n    accentForeground: '强调文字',\n    destructive: '危险操作',\n    destructiveForeground: '危险文字',\n    link: '链接色',\n    linkHover: '链接悬停',\n    // 色阶\n    '50': '最浅',\n    '100': '很浅',\n    '200': '较浅',\n    '300': '浅色',\n    '400': '淡色',\n    '500': '主色',\n    '600': '深色',\n    '700': '较深',\n    '800': '很深',\n    '900': '最深',\n  };\n\n  // 颜色输入组件（避免焦点丢失，支持平滑选色）\n  const ColorInput: React.FC<{\n    label: string;\n    value: string;\n    onChange: (value: string) => void;\n    colorPath?: string[]; // 颜色在配置中的路径，用于实时预览\n  }> = React.memo(({ label, value, onChange, colorPath }) => {\n    const [localValue, setLocalValue] = React.useState(value);\n    const [pickerOpen, setPickerOpen] = React.useState(false);\n    const [tempColor, setTempColor] = React.useState(value);\n    const colorPickerRef = React.useRef<HTMLDivElement>(null);\n\n    // 获取中文标签\n    const zhLabel = colorLabelMap[label] || label;\n\n    React.useEffect(() => {\n      setLocalValue(value);\n      setTempColor(value);\n    }, [value]);\n\n    // 点击外部区域时关闭选择器\n    React.useEffect(() => {\n      const handleClickOutside = (event: MouseEvent) => {\n        if (pickerOpen && colorPickerRef.current && \n            !colorPickerRef.current.contains(event.target as Node)) {\n          // 点击外部，关闭选择器并应用最终颜色到配置\n          setPickerOpen(false);\n          if (tempColor !== value) {\n            onChange(tempColor);\n          }\n        }\n      };\n\n      if (pickerOpen) {\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => {\n          document.removeEventListener('mousedown', handleClickOutside);\n        };\n      }\n      return undefined;\n    }, [pickerOpen, tempColor, value, onChange]);\n\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      const newValue = e.target.value;\n      setLocalValue(newValue);\n      // 不立即调用onChange，避免焦点丢失\n    };\n\n    const handleInputBlur = () => {\n      onChange(localValue);\n    };\n\n    // 拖动选色时：只更新本地状态 + 直接更新 CSS 变量实现实时预览\n    const handleColorChange = (color: Color) => {\n      const hexColor = colorToHex(color);\n      setTempColor(hexColor);\n      setLocalValue(hexColor);\n      \n      // ⭐ 关键：不调用 onChange（避免父组件重新渲染），而是直接更新 CSS 变量\n      if (colorPath && colorPath.length >= 3) {\n        // 根据颜色路径构建正确的 CSS 变量名\n        let varName: string;\n        if (colorPath[1] === 'semantic') {\n          // 语义化颜色：--background, --foreground, --content-bg 等\n          // 需要将驼峰命名转为 kebab-case\n          const kebabKey = colorPath[2].replace(/[A-Z]/g, (letter) => `-${letter.toLowerCase()}`);\n          varName = `--${kebabKey}`;\n        } else {\n          // 主色板和其他颜色：--primary-500, --success-500 等\n          varName = `--${colorPath[1]}-${colorPath[2]}`;\n        }\n        document.documentElement.style.setProperty(varName, hexColor);\n      }\n    };\n\n    // 完全控制打开/关闭，不让 ColorPicker 自动关闭\n    const handleOpenChange = (open: boolean) => {\n      // 阻止自动关闭，只允许通过外部点击关闭\n      if (!open) {\n        // 不自动关闭，保持打开状态\n        return;\n      }\n      setPickerOpen(open);\n    };\n\n    return (\n      <div className=\"color-item\" ref={colorPickerRef}>\n        {/* 英文标签（顶部） */}\n        <div className=\"color-label-en\">{label}</div>\n        \n        {/* 中文标签（中间） */}\n        <div className=\"color-label-zh\">{zhLabel}</div>\n        \n        {/* 底部：颜色选择器和输入框 */}\n        <div className=\"color-input-row\">\n          <ColorPicker\n            value={tempColor}\n            onChange={handleColorChange}\n            open={pickerOpen}\n            onOpenChange={handleOpenChange}\n            trigger=\"click\"\n            destroyTooltipOnHide={false}\n            getPopupContainer={(trigger) => trigger.parentElement || document.body}\n          />\n          <Input\n            value={localValue}\n            onChange={handleInputChange}\n            onBlur={handleInputBlur}\n            placeholder=\"#RRGGBB\"\n          />\n        </div>\n      </div>\n    );\n  });\n\n  // 文本输入组件（避免焦点丢失）\n  const TextInput: React.FC<{\n    label?: string;\n    value: string;\n    onChange: (value: string) => void;\n    style?: React.CSSProperties;\n    placeholder?: string;\n  }> = React.memo(({ label, value, onChange, style, placeholder }) => {\n    const [localValue, setLocalValue] = React.useState(value);\n\n    React.useEffect(() => {\n      setLocalValue(value);\n    }, [value]);\n\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n      const newValue = e.target.value;\n      setLocalValue(newValue);\n    };\n\n    const handleBlur = () => {\n      onChange(localValue);\n    };\n\n    return (\n      <div className=\"slider-item\">\n        {label && <Text>{label}</Text>}\n        <Input\n          value={localValue}\n          onChange={handleInputChange}\n          onBlur={handleBlur}\n          style={style}\n          placeholder={placeholder}\n        />\n      </div>\n    );\n  });\n\n  // 通用滑块组件（支持实时预览）\n  const GenericSlider: React.FC<{\n    label: string;\n    value: string | number; // 如 \"14px\" 或 400\n    onChange: (value: string | number) => void;\n    min?: number;\n    max?: number;\n    unit?: string; // 如 \"px\", \"rem\", \"\" (无单位)\n    cssVarName?: string; // CSS 变量名，如 \"--font-size-base\"\n    step?: number; // 步进值\n    useNumberValue?: boolean; // 是否返回数字类型（字体字重用）\n  }> = React.memo(({ \n    label, \n    value, \n    onChange, \n    min = 0, \n    max = 100, \n    unit = 'px',\n    cssVarName,\n    step = 1,\n    useNumberValue = false,\n  }) => {\n    // 解析数值\n    const parseValue = (val: string | number): number => {\n      if (typeof val === 'number') return val;\n      const match = val.match(/^(\\d+(?:\\.\\d+)?)/);\n      return match ? parseFloat(match[1]) : min;\n    };\n\n    const [localValue, setLocalValue] = React.useState<number>(parseValue(value));\n\n    React.useEffect(() => {\n      setLocalValue(parseValue(value));\n    }, [value]);\n\n    // 滑动时实时更新 CSS 变量（不触发配置更新，避免重渲染）\n    const handleSliderChange = (newValue: number) => {\n      setLocalValue(newValue);\n      \n      // 如果提供了 CSS 变量名，直接更新 CSS 变量实现实时预览\n      if (cssVarName) {\n        const cssValue = unit ? `${newValue}${unit}` : `${newValue}`;\n        document.documentElement.style.setProperty(cssVarName, cssValue);\n      }\n    };\n\n    // 滑动结束时才更新配置（持久化）\n    const handleSliderAfterChange = (newValue: number) => {\n      if (useNumberValue) {\n        onChange(newValue);\n      } else {\n        onChange(unit ? `${newValue}${unit}` : `${newValue}`);\n      }\n    };\n\n    // 格式化显示值\n    const displayValue = unit ? `${localValue}${unit}` : localValue;\n\n    return (\n      <div style={{ \n        display: 'flex', \n        alignItems: 'center', \n        gap: 16,\n        marginBottom: 20,\n        paddingRight: 12,\n      }}>\n        {/* 左边：标签 */}\n        <Text style={{ \n          fontSize: 13, \n          fontWeight: 500,\n          minWidth: 100,\n          flexShrink: 0,\n        }}>\n          {label}\n        </Text>\n\n        {/* 中间：当前值 */}\n        <Text style={{ \n          fontSize: 13, \n          color: '#1890ff',\n          fontWeight: 600,\n          minWidth: 80,\n          flexShrink: 0,\n        }}>\n          当前值：{displayValue}\n        </Text>\n\n        {/* 右边：滑块 */}\n        <div style={{ flex: 1, minWidth: 200 }}>\n          <Slider\n            min={min}\n            max={max}\n            step={step}\n            value={localValue}\n            onChange={handleSliderChange}\n            onAfterChange={handleSliderAfterChange}\n            tooltip={{ formatter: (val) => unit ? `${val}${unit}` : `${val}` }}\n          />\n        </div>\n      </div>\n    );\n  });\n\n  // 所有主题标签页\n  const AllThemes = () => {\n    // 检查主题是否有覆盖配置\n    const hasOverride = (themeKey: string): boolean => {\n      try {\n        const overrideKey = `km-theme-override-${themeKey}`;\n        return localStorage.getItem(overrideKey) !== null;\n      } catch {\n        return false;\n      }\n    };\n\n    return (\n      <div className=\"theme-editor-themes\" key={refreshKey}>\n        <Paragraph type=\"secondary\">\n          选择一个主题作为起点，然后在其他标签页中进行自定义调整\n        </Paragraph>\n        <div className=\"theme-grid\">\n          {availableThemes.map((themeKey) => {\n            const isPreset = isPresetTheme(themeKey);\n            const metadata = getThemeMetadata(themeKey);\n            const themeName = metadata?.name || themeKey;\n            const themeDescription = metadata?.description || (isPreset ? '' : '自定义主题');\n            const isActive = currentTheme === themeKey;\n            const canDelete = !isPreset;\n            const isModified = hasOverride(themeKey);\n            \n            return (\n              <Card\n                key={themeKey}\n                hoverable\n                size=\"small\"\n                className={`theme-card ${isActive ? 'active' : ''} ${isModified ? 'modified' : ''}`}\n                onClick={() => switchTheme(themeKey)}\n                extra={canDelete && (\n                  <DeleteOutlined \n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleDeleteTheme(themeKey);\n                    }}\n                    style={{ color: '#ff4d4f' }}\n                  />\n                )}\n              >\n                {isActive && (\n                  <CheckCircleOutlined className=\"active-icon\" />\n                )}\n                <div className=\"theme-preview\">\n                  <div className=\"theme-name\">\n                    {themeName}\n                    {isModified && (\n                      <Tooltip title=\"此主题已修改\">\n                        <span style={{ marginLeft: 6, color: '#1890ff', fontSize: 12 }}>\n                          ●\n                        </span>\n                      </Tooltip>\n                    )}\n                  </div>\n                  {themeDescription && (\n                    <div className=\"theme-description\">{themeDescription}</div>\n                  )}\n                </div>\n              </Card>\n            );\n          })}\n        </div>\n      </div>\n    );\n  };\n\n  // 颜色配置标签页\n  const ColorSettings = () => (\n    <div className=\"theme-editor-section\">\n      <Collapse\n        defaultActiveKey={['semantic', 'primary']}\n        items={[\n          {\n            key: 'semantic',\n            label: '语义化颜色',\n            children: (\n              <div className=\"color-settings-grid\">\n                {Object.entries(editingConfig.colors.semantic).map(([key, value]) => (\n                  <ColorInput\n                    key={key}\n                    label={key}\n                    value={value}\n                    colorPath={['colors', 'semantic', key]}\n                    onChange={(newValue) =>\n                      updateConfig(['colors', 'semantic', key], newValue)\n                    }\n                  />\n                ))}\n              </div>\n            ),\n          },\n          {\n            key: 'primary',\n            label: '主色板',\n            children: (\n              <div className=\"color-settings-grid\">\n                {Object.entries(editingConfig.colors.primary).map(([key, value]) => (\n                  <ColorInput\n                    key={key}\n                    label={key}\n                    value={value}\n                    colorPath={['colors', 'primary', key]}\n                    onChange={(newValue) =>\n                      updateConfig(['colors', 'primary', key], newValue)\n                    }\n                  />\n                ))}\n              </div>\n            ),\n          },\n          {\n            key: 'secondary',\n            label: '辅助色板',\n            children: (\n              <div className=\"color-settings-grid\">\n                {Object.entries(editingConfig.colors.secondary).map(([key, value]) => (\n                  <ColorInput\n                    key={key}\n                    label={key}\n                    value={value}\n                    colorPath={['colors', 'secondary', key]}\n                    onChange={(newValue) =>\n                      updateConfig(['colors', 'secondary', key], newValue)\n                    }\n                  />\n                ))}\n              </div>\n            ),\n          },\n          {\n            key: 'success',\n            label: '成功色板',\n            children: (\n              <div className=\"color-settings-grid\">\n                {Object.entries(editingConfig.colors.success).map(([key, value]) => (\n                  <ColorInput\n                    key={key}\n                    label={key}\n                    value={value}\n                    colorPath={['colors', 'success', key]}\n                    onChange={(newValue) =>\n                      updateConfig(['colors', 'success', key], newValue)\n                    }\n                  />\n                ))}\n              </div>\n            ),\n          },\n          {\n            key: 'warning',\n            label: '警告色板',\n            children: (\n              <div className=\"color-settings-grid\">\n                {Object.entries(editingConfig.colors.warning).map(([key, value]) => (\n                  <ColorInput\n                    key={key}\n                    label={key}\n                    value={value}\n                    colorPath={['colors', 'warning', key]}\n                    onChange={(newValue) =>\n                      updateConfig(['colors', 'warning', key], newValue)\n                    }\n                  />\n                ))}\n              </div>\n            ),\n          },\n          {\n            key: 'error',\n            label: '错误色板',\n            children: (\n              <div className=\"color-settings-grid\">\n                {Object.entries(editingConfig.colors.error).map(([key, value]) => (\n                  <ColorInput\n                    key={key}\n                    label={key}\n                    value={value}\n                    colorPath={['colors', 'error', key]}\n                    onChange={(newValue) =>\n                      updateConfig(['colors', 'error', key], newValue)\n                    }\n                  />\n                ))}\n              </div>\n            ),\n          },\n          {\n            key: 'info',\n            label: '信息色板',\n            children: (\n              <div className=\"color-settings-grid\">\n                {Object.entries(editingConfig.colors.info).map(([key, value]) => (\n                  <ColorInput\n                    key={key}\n                    label={key}\n                    value={value}\n                    colorPath={['colors', 'info', key]}\n                    onChange={(newValue) =>\n                      updateConfig(['colors', 'info', key], newValue)\n                    }\n                  />\n                ))}\n              </div>\n            ),\n          },\n          {\n            key: 'neutral',\n            label: '中性色板',\n            children: (\n              <div className=\"color-settings-grid\">\n                {Object.entries(editingConfig.colors.neutral).map(([key, value]) => (\n                  <ColorInput\n                    key={key}\n                    label={key}\n                    value={value}\n                    colorPath={['colors', 'neutral', key]}\n                    onChange={(newValue) =>\n                      updateConfig(['colors', 'neutral', key], newValue)\n                    }\n                  />\n                ))}\n              </div>\n            ),\n          },\n        ]}\n      />\n    </div>\n  );\n\n  // 字体配置标签页\n  const TypographySettings = () => {\n    // 常用字体选项\n    const fontFamilyOptions = [\n      { \n        key: 'system',\n        label: '系统默认', \n        value: 'system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif',\n        description: '根据操作系统自动选择最佳字体'\n      },\n      { \n        key: 'pingfang',\n        label: '苹方', \n        value: 'PingFang SC, -apple-system, sans-serif',\n        description: 'Apple 苹方字体，适合 macOS 和 iOS'\n      },\n      { \n        key: 'yahei',\n        label: '微软雅黑', \n        value: 'Microsoft YaHei, sans-serif',\n        description: '微软雅黑，适合 Windows'\n      },\n      { \n        key: 'sourcehansans',\n        label: '思源黑体', \n        value: '\"Source Han Sans SC\", \"Noto Sans CJK SC\", sans-serif',\n        description: 'Adobe 与 Google 合作的开源字体'\n      },\n      { \n        key: 'alibaba',\n        label: '阿里巴巴普惠体', \n        value: '\"Alibaba PuHuiTi\", sans-serif',\n        description: '阿里巴巴开源的企业字体'\n      },\n      { \n        key: 'lxgw',\n        label: '霞鹜文楷', \n        value: '\"LXGW WenKai\", serif',\n        description: '开源楷体，适合文艺风格'\n      },\n      { \n        key: 'arial',\n        label: 'Arial', \n        value: 'Arial, Helvetica, sans-serif',\n        description: '经典西文字体'\n      },\n      { \n        key: 'roboto',\n        label: 'Roboto', \n        value: 'Roboto, sans-serif',\n        description: 'Google Material Design 默认字体'\n      },\n    ];\n\n    // 字体大小中文标签\n    const fontSizeLabels: Record<string, string> = {\n      xs: '超小 (xs)',\n      sm: '小 (sm)',\n      base: '基础 (base)',\n      lg: '大 (lg)',\n      xl: '超大 (xl)',\n      '2xl': '2倍大 (2xl)',\n      '3xl': '3倍大 (3xl)',\n      '4xl': '4倍大 (4xl)',\n    };\n\n    // 字体字重中文标签\n    const fontWeightLabels: Record<string, string> = {\n      light: '细体 (Light)',\n      normal: '常规 (Normal)',\n      medium: '中等 (Medium)',\n      semibold: '半粗 (Semibold)',\n      bold: '粗体 (Bold)',\n    };\n\n    const currentFontFamily = editingConfig.typography.fontFamily.sans.join(', ');\n    \n    // 根据当前字体栈找到对应的 key\n    const getCurrentFontKey = () => {\n      const match = fontFamilyOptions.find(opt => opt.value === currentFontFamily);\n      return match ? match.key : currentFontFamily;\n    };\n\n    return (\n      <div className=\"theme-editor-section\">\n        <Space direction=\"vertical\" style={{ width: '100%' }} size=\"large\">\n          {/* 字体族下拉选择 */}\n          <div>\n            <Title level={5}>字体族</Title>\n            <Select\n              style={{ width: '100%' }}\n              value={getCurrentFontKey()}\n              onChange={(key) => {\n                const selected = fontFamilyOptions.find(opt => opt.key === key);\n                if (selected) {\n                  updateConfig(\n                    ['typography', 'fontFamily', 'sans'],\n                    selected.value.split(',').map((s) => s.trim())\n                  );\n                }\n              }}\n              placeholder=\"选择字体\"\n              optionLabelProp=\"label\"\n            >\n              {fontFamilyOptions.map((option) => (\n                <Select.Option key={option.key} value={option.key} label={option.label}>\n                  <div>\n                    <div style={{ fontWeight: 500 }}>{option.label}</div>\n                    <div style={{ fontSize: 12, color: '#8c8c8c', marginTop: 2 }}>\n                      {option.description}\n                    </div>\n                  </div>\n                </Select.Option>\n              ))}\n            </Select>\n            <Text type=\"secondary\" style={{ fontSize: 12, display: 'block', marginTop: 8 }}>\n              💡 选择一个主字体，系统会自动添加适配的备用字体\n            </Text>\n          </div>\n        \n          {/* 字体大小 */}\n          <div>\n            <Title level={5}>字体大小</Title>\n            <div style={{ paddingTop: 8 }}>\n              {Object.entries(editingConfig.typography.fontSize).map(([key, value]) => (\n                <GenericSlider\n                  key={key}\n                  label={fontSizeLabels[key] || key}\n                  value={value}\n                  onChange={(newValue) => updateConfig(['typography', 'fontSize', key], newValue)}\n                  min={10}\n                  max={48}\n                  unit=\"px\"\n                  cssVarName={`--font-size-${key}`}\n                />\n              ))}\n            </div>\n            <Text type=\"secondary\" style={{ fontSize: 12, display: 'block', marginTop: 8 }}>\n              💡 拖动滑块可实时预览字体大小变化\n            </Text>\n          </div>\n\n          {/* 字体字重 */}\n          {editingConfig.typography.fontWeight && (\n            <div>\n              <Title level={5}>字体字重</Title>\n              <div style={{ paddingTop: 8 }}>\n                {Object.entries(editingConfig.typography.fontWeight).map(([key, value]) => (\n                  <GenericSlider\n                    key={key}\n                    label={fontWeightLabels[key] || key}\n                    value={value}\n                    onChange={(newValue) => updateConfig(['typography', 'fontWeight', key], newValue)}\n                    min={100}\n                    max={900}\n                    step={100}\n                    unit=\"\"\n                    cssVarName={`--font-weight-${key}`}\n                    useNumberValue={true}\n                  />\n                ))}\n              </div>\n              <Text type=\"secondary\" style={{ fontSize: 12, display: 'block', marginTop: 8 }}>\n                💡 字重范围：100-900，400为常规，700为粗体\n              </Text>\n            </div>\n          )}\n        </Space>\n      </div>\n    );\n  };\n\n  // 间距配置标签页\n  const SpacingSettings = () => {\n    // 间距中文标签\n    const spacingLabels: Record<string, string> = {\n      xs: '超小 (xs)',\n      sm: '小 (sm)',\n      md: '中等 (md)',\n      lg: '大 (lg)',\n      xl: '超大 (xl)',\n      '2xl': '2倍大 (2xl)',\n      '3xl': '3倍大 (3xl)',\n    };\n\n    return (\n      <div className=\"theme-editor-section\">\n        <Title level={5}>间距</Title>\n        <div style={{ paddingTop: 8 }}>\n          {Object.entries(editingConfig.spacing).map(([key, value]) => (\n            <GenericSlider\n              key={key}\n              label={spacingLabels[key] || key}\n              value={value}\n              onChange={(newValue) => updateConfig(['spacing', key], newValue)}\n              min={0}\n              max={64}\n              unit=\"px\"\n              cssVarName={`--spacing-${key}`}\n            />\n          ))}\n        </div>\n        <Text type=\"secondary\" style={{ fontSize: 12, display: 'block', marginTop: 8 }}>\n          💡 拖动滑块可实时预览间距变化\n        </Text>\n      </div>\n    );\n  };\n\n  // 圆角配置标签页\n  const BorderRadiusSettings = () => {\n    // 圆角中文标签\n    const borderRadiusLabels: Record<string, string> = {\n      none: '无圆角 (none)',\n      sm: '小 (sm)',\n      md: '中等 (md)',\n      lg: '大 (lg)',\n      xl: '超大 (xl)',\n      '2xl': '2倍大 (2xl)',\n      full: '完全圆形 (full)',\n    };\n\n    return (\n      <div className=\"theme-editor-section\">\n        <Title level={5}>圆角</Title>\n        <div style={{ paddingTop: 8 }}>\n          {Object.entries(editingConfig.borderRadius).map(([key, value]) => {\n            // full 特殊处理，最大值设置为 9999\n            const maxValue = key === 'full' ? 9999 : 32;\n            const minValue = 0;\n            \n            return (\n              <GenericSlider\n                key={key}\n                label={borderRadiusLabels[key] || key}\n                value={value}\n                onChange={(newValue) => updateConfig(['borderRadius', key], newValue)}\n                min={minValue}\n                max={maxValue}\n                unit=\"px\"\n                cssVarName={`--radius-${key}`}\n              />\n            );\n          })}\n        </div>\n        <Text type=\"secondary\" style={{ fontSize: 12, display: 'block', marginTop: 8 }}>\n          💡 拖动滑块可实时预览圆角变化\n        </Text>\n      </div>\n    );\n  };\n\n  // 边框配置单行组件（支持平滑拖动颜色选择）\n  const BorderConfigRow: React.FC<{\n    label: string;\n    width: string;\n    style: string;\n    color: string;\n    borderValue: string;\n    onWidthChange: (width: string) => void;\n    onStyleChange: (style: string) => void;\n    onColorChange: (color: string) => void;\n    borderStyleOptions: Array<{ label: string; value: string }>;\n  }> = ({ label, width, style, color, borderValue, onWidthChange, onStyleChange, onColorChange, borderStyleOptions }) => {\n    const [localColor, setLocalColor] = React.useState(color);\n    const [isPickerOpen, setIsPickerOpen] = React.useState(false);\n    const colorPickerRef = React.useRef<HTMLDivElement>(null);\n\n    // 同步外部颜色到本地状态\n    React.useEffect(() => {\n      setLocalColor(color);\n    }, [color]);\n\n    // 点击外部关闭颜色选择器\n    React.useEffect(() => {\n      const handleClickOutside = (event: MouseEvent) => {\n        if (isPickerOpen && colorPickerRef.current && \n            !colorPickerRef.current.contains(event.target as Node)) {\n          // 点击外部，关闭选择器并应用最终颜色\n          setIsPickerOpen(false);\n          if (localColor !== color) {\n            onColorChange(localColor);\n          }\n        }\n      };\n\n      if (isPickerOpen) {\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => {\n          document.removeEventListener('mousedown', handleClickOutside);\n        };\n      }\n      return undefined;\n    }, [isPickerOpen, localColor, color, onColorChange]);\n\n    // 拖动选色时：立即更新本地状态和CSS变量，不触发配置更新\n    const handleColorChange = (color: ColorPickerProps['value']) => {\n      if (typeof color === 'string' || (color && !Array.isArray(color))) {\n        const hexColor = colorToHex(color);\n        setLocalColor(hexColor);\n        \n        // 直接更新CSS变量实现实时预览（不调用onColorChange避免重渲染）\n        // 边框颜色的CSS变量名需要根据实际情况调整\n        // 这里暂时不做实时预览，因为边框颜色不是直接的CSS变量\n        // 只在关闭选择器或失去焦点时才应用到配置\n      }\n    };\n\n    // 完全阻止自动关闭，只允许通过外部点击关闭\n    const handleOpenChange = (open: boolean) => {\n      if (!open) {\n        // 阻止自动关闭，保持打开状态\n        return;\n      }\n      setIsPickerOpen(open);\n    };\n\n    return (\n      <div\n        style={{ display: 'flex', alignItems: 'center', gap: 12, marginBottom: 12 }}\n      >\n        <Text style={{ width: 100, fontWeight: 500 }}>{label}</Text>\n\n        {/* 宽度输入 */}\n        <Input\n          value={style === 'none' ? '0' : width}\n          onChange={(e) => onWidthChange(e.target.value)}\n          style={{ width: 80 }}\n          placeholder=\"1px\"\n          disabled={style === 'none'}\n        />\n\n        {/* 样式下拉选择 */}\n        <Select value={style} onChange={onStyleChange} options={borderStyleOptions} style={{ width: 150 }} />\n\n        {/* 颜色选择器 - 支持平滑拖动 */}\n        <div ref={colorPickerRef}>\n          <ColorPicker\n            value={localColor}\n            onChange={handleColorChange}\n            open={isPickerOpen}\n            onOpenChange={handleOpenChange}\n            showText\n            size=\"small\"\n            trigger=\"click\"\n            destroyTooltipOnHide={false}\n            getPopupContainer={(trigger) => trigger.parentElement || document.body}\n          />\n        </div>\n\n        {/* 预览 */}\n        <div\n          style={{\n            width: 60,\n            height: 30,\n            border: style === 'none' ? 'none' : `${borderValue} ${localColor}`,\n            borderRadius: 4,\n            background: '#fff',\n            boxShadow: '0 0 0 1px rgba(0,0,0,0.1)',\n          }}\n        />\n      </div>\n    );\n  };\n\n  // 边框配置标签页\n  const BorderSettings = () => {\n    const [initialized, setInitialized] = React.useState(false);\n\n    // 当标签页切换时重置初始化状态\n    React.useEffect(() => {\n      setInitialized(false);\n    }, [activeTab]);\n\n    // 确保 borders 配置存在\n    React.useEffect(() => {\n      if (!initialized && activeTab === 'borders') {\n        if (!editingConfig.borders) {\n          const defaultBorders = {\n            width: {\n              none: '0',\n              thin: '1px',\n              medium: '2px',\n              thick: '3px',\n            },\n            style: {\n              solid: 'solid',\n              dashed: 'dashed',\n              dotted: 'dotted',\n            },\n            composite: {\n              none: '0',\n              default: '1px solid',\n              card: '1px solid',\n              input: '1px solid',\n              thick: '2px solid',\n              dashed: '1px dashed',\n              dotted: '1px dotted',\n            },\n            colors: {\n              none: '#e0e0e0',\n              default: '#e0e0e0',\n              card: '#e5e7eb',\n              input: '#d1d5db',\n              thick: '#9e9e9e',\n              dashed: '#bdbdbd',\n              dotted: '#bdbdbd',\n            },\n          };\n          updateConfig(['borders'], defaultBorders);\n        } else if (!editingConfig.borders.colors) {\n          const defaultColors = {\n            none: '#e0e0e0',\n            default: '#e0e0e0',\n            card: '#e5e7eb',\n            input: '#d1d5db',\n            thick: '#9e9e9e',\n            dashed: '#bdbdbd',\n            dotted: '#bdbdbd',\n          };\n          updateConfig(['borders', 'colors'], defaultColors);\n        }\n        setInitialized(true);\n      }\n    }, [initialized, activeTab, editingConfig.borders]);\n\n    const borderLabelMap: Record<string, string> = {\n      none: '无边框',\n      default: '默认边框',\n      card: '卡片边框',\n      input: '输入框边框',\n      thick: '加粗边框',\n      dashed: '虚线边框',\n      dotted: '点线边框',\n    };\n\n    const borderStyleOptions = [\n      { label: '无 (none)', value: 'none' },\n      { label: '实线 (solid)', value: 'solid' },\n      { label: '虚线 (dashed)', value: 'dashed' },\n      { label: '点线 (dotted)', value: 'dotted' },\n    ];\n\n    // 解析边框值（例如 \"1px solid\" -> { width: \"1px\", style: \"solid\" }）\n    const parseBorder = (value: string): { width: string; style: string } => {\n      const parts = value.trim().split(/\\s+/);\n      if (parts.length === 1 && (parts[0] === '0' || parts[0] === 'none')) {\n        return { width: '0', style: 'none' };\n      }\n      return {\n        width: parts[0] || '1px',\n        style: parts[1] || 'solid',\n      };\n    };\n\n    // 组合边框值\n    const combineBorder = (width: string, style: string): string => {\n      if (style === 'none') {\n        return '0';\n      }\n      // 确保即使 width 为空也有默认值\n      const finalWidth = width && width !== '0' ? width : '1px';\n      return `${finalWidth} ${style}`;\n    };\n\n    // 如果 borders 配置不存在，显示加载状态\n    if (!editingConfig.borders || !editingConfig.borders.colors) {\n      return (\n        <div className=\"theme-editor-section\">\n          <Space direction=\"vertical\" style={{ width: '100%', textAlign: 'center', padding: '40px 0' }}>\n            <Text type=\"secondary\">正在初始化边框配置...</Text>\n          </Space>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"theme-editor-section\">\n        <Space direction=\"vertical\" style={{ width: '100%' }} size=\"large\">\n          <div>\n            <Title level={5}>边框配置</Title>\n            <Paragraph type=\"secondary\" style={{ fontSize: 12 }}>\n              设置边框宽度、样式和颜色，系统会自动组合并实时预览\n            </Paragraph>\n            <Space direction=\"vertical\" style={{ width: '100%' }}>\n              {Object.entries(editingConfig.borders.composite).map(([key, value]) => {\n                const { width, style } = parseBorder(value);\n                const borderColor = editingConfig.borders?.colors?.[key as keyof typeof editingConfig.borders.colors] || '#e0e0e0';\n                \n                return (\n                  <BorderConfigRow\n                    key={key}\n                    label={borderLabelMap[key] || key}\n                    width={width}\n                    style={style}\n                    color={borderColor}\n                    borderValue={value}\n                    onWidthChange={(newWidth) => {\n                      const newValue = combineBorder(newWidth, style);\n                      updateConfig(['borders', 'composite', key], newValue);\n                    }}\n                    onStyleChange={(newStyle) => {\n                      const newWidth = style === 'none' && newStyle !== 'none' ? '1px' : width;\n                      const newValue = combineBorder(newWidth, newStyle);\n                      updateConfig(['borders', 'composite', key], newValue);\n                    }}\n                    onColorChange={(newColor) => {\n                      updateConfig(['borders', 'colors', key], newColor);\n                    }}\n                    borderStyleOptions={borderStyleOptions}\n                  />\n                );\n              })}\n            </Space>\n          </div>\n\n          <Divider />\n\n          <div style={{ padding: 12, background: '#f0f7ff', borderRadius: 4 }}>\n            <Title level={5} style={{ fontSize: 14, marginBottom: 8 }}>💡 使用提示</Title>\n            <Text style={{ fontSize: 12, color: '#666' }}>\n              • <strong>边框宽度：</strong>常用 1px、2px、3px<br/>\n              • <strong>边框样式：</strong>实线、虚线、点线、无边框<br/>\n              • <strong>边框颜色：</strong>点击颜色块可调整边框颜色<br/>\n              • <strong>推荐配置：</strong><br/>\n              　- 卡片: 1px 实线 + 浅色边框<br/>\n              　- 输入框: 1px 实线 + 中性边框<br/>\n              　- 强调: 2px 实线 + 主题色\n            </Text>\n          </div>\n        </Space>\n      </div>\n    );\n  };\n\n  // JSON 编辑器标签页\n  const JSONEditor = () => {\n    const [jsonText, setJsonText] = useState(JSON.stringify(editingConfig, null, 2));\n\n    const handleJsonChange = (value: string) => {\n      setJsonText(value);\n      try {\n        const parsed = JSON.parse(value);\n        setEditingConfig(parsed);\n      } catch (error) {\n        // 忽略解析错误，用户可能还在编辑\n      }\n    };\n\n    return (\n      <div className=\"theme-editor-section\">\n        <Paragraph type=\"secondary\">\n          直接编辑 JSON 配置，适合高级用户或批量修改\n        </Paragraph>\n        <TextArea\n          value={jsonText}\n          onChange={(e) => handleJsonChange(e.target.value)}\n          rows={20}\n          style={{ fontFamily: 'Monaco, Consolas, monospace', fontSize: 12 }}\n        />\n      </div>\n    );\n  };\n\n  const tabItems = [\n    {\n      key: 'themes',\n      label: (\n        <span>\n          <BgColorsOutlined /> 所有主题\n        </span>\n      ),\n      children: <AllThemes />,\n    },\n    {\n      key: 'colors',\n      label: (\n        <span>\n          <BgColorsOutlined /> 颜色\n        </span>\n      ),\n      children: <ColorSettings />,\n    },\n    {\n      key: 'typography',\n      label: (\n        <span>\n          <FontSizeOutlined /> 字体\n        </span>\n      ),\n      children: <TypographySettings />,\n    },\n    {\n      key: 'spacing',\n      label: (\n        <span>\n          <ColumnWidthOutlined /> 间距\n        </span>\n      ),\n      children: <SpacingSettings />,\n    },\n    {\n      key: 'borderRadius',\n      label: (\n        <span>\n          <BorderOutlined /> 圆角\n        </span>\n      ),\n      children: <BorderRadiusSettings />,\n    },\n    {\n      key: 'borders',\n      label: (\n        <span>\n          <BorderOutlined /> 边框\n        </span>\n      ),\n      children: <BorderSettings />,\n    },\n    {\n      key: 'json',\n      label: (\n        <span>\n          <SaveOutlined /> JSON 编辑\n        </span>\n      ),\n      children: <JSONEditor />,\n    },\n  ];\n\n  return (\n    <Drawer\n      title=\"主题配置中心\"\n      placement=\"right\"\n      width={720}\n      open={open}\n      onClose={onClose}\n      mask={false}\n      className=\"theme-editor-drawer\"\n      extra={\n        <Space>\n          <Upload\n            accept=\".json\"\n            showUploadList={false}\n            beforeUpload={handleImport}\n          >\n            <Tooltip title=\"导入 JSON 配置\">\n              <Button icon={<UploadOutlined />}>导入</Button>\n            </Tooltip>\n          </Upload>\n          <Tooltip title=\"导出当前配置\">\n            <Button icon={<DownloadOutlined />} onClick={handleExport}>\n              导出\n            </Button>\n          </Tooltip>\n          <Tooltip title=\"重置为原始配置\">\n            <Button \n              icon={<ReloadOutlined />} \n              onClick={handleReset}\n              danger\n            />\n          </Tooltip>\n        </Space>\n      }\n      footer={\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n          <Button \n            icon={<PlusOutlined />} \n            onClick={handleSaveAsNewTheme}\n          >\n            保存为新主题\n          </Button>\n          <Space>\n            <Button onClick={handleCancel}>取消</Button>\n            <Button type=\"primary\" icon={<SaveOutlined />} onClick={handleSaveChanges}>\n              完成\n            </Button>\n          </Space>\n        </div>\n      }\n    >\n      <Tabs\n        activeKey={activeTab}\n        onChange={setActiveTab}\n        items={tabItems}\n        tabPosition=\"left\"\n        className=\"theme-editor-tabs\"\n      />\n    </Drawer>\n  );\n};\n\nexport default ThemeEditor;\n\n","/**\n * UmiJS 适配器\n * 使用 require.context 自动加载预设主题\n */\n\nimport React, { useEffect } from 'react';\nimport { ThemeProvider, registerThemes, type ThemeProviderProps } from './ThemeProvider';\nimport type { ThemeConfig } from '../tokens/types';\n\n/**\n * Webpack require.context 类型声明\n */\ninterface RequireContext {\n  keys(): string[];\n  (id: string): any;\n  <T>(id: string): T;\n  resolve(id: string): string;\n  id: string;\n}\n\n/**\n * 声明 require.context 函数类型\n */\ndeclare const require: {\n  context(\n    directory: string,\n    useSubdirectories: boolean,\n    regExp: RegExp,\n  ): RequireContext;\n};\n\n/**\n * 自动加载预设主题\n */\nconst loadPresetThemes = (): Record<string, ThemeConfig> => {\n  const themes: Record<string, ThemeConfig> = {};\n  \n  try {\n    // 使用 require.context 获取 presets 目录下的所有 .json 文件\n    const themeContext: RequireContext = require.context('../presets', false, /\\.json$/);\n    \n    // 遍历所有主题文件\n    themeContext.keys().forEach((filename: string) => {\n      // 从文件名提取主题名称（去除 ./ 和 .json）\n      const themeName = filename.replace(/^\\.\\//, '').replace(/\\.json$/, '');\n      \n      // 加载主题配置\n      const themeConfig = themeContext(filename) as ThemeConfig;\n      \n      themes[themeName] = themeConfig;\n      \n      console.log(`✅ 已加载预设主题: ${themeName}`);\n    });\n    \n    // 如果没有加载到任何主题，抛出错误\n    if (Object.keys(themes).length === 0) {\n      console.warn('未找到任何主题文件，请确保 presets 目录下有 .json 文件');\n    }\n  } catch (error) {\n    console.error('❌ 加载预设主题失败:', error);\n    console.error('请确保 presets 目录下至少有一个 .json 主题文件');\n  }\n  \n  return themes;\n};\n\n/**\n * UmiJS 主题提供者\n * \n * @description 自动加载 presets 目录下的所有主题文件\n * \n * @example\n * ```tsx\n * import { UmiThemeProvider } from '@km-design/theme-system';\n * \n * export function rootContainer(container: React.ReactElement) {\n *   return (\n *     <UmiThemeProvider defaultTheme=\"km-base\">\n *       {container}\n *     </UmiThemeProvider>\n *   );\n * }\n * ```\n */\nexport const UmiThemeProvider: React.FC<ThemeProviderProps> = ({\n  children,\n  ...props\n}) => {\n  // 自动加载预设主题\n  useEffect(() => {\n    const themes = loadPresetThemes();\n    if (Object.keys(themes).length > 0) {\n      registerThemes(themes);\n    }\n  }, []);\n\n  return <ThemeProvider {...props}>{children}</ThemeProvider>;\n};\n\n"],"names":["ThemeTransformer","config","constructor","this","toAntdTheme","colors","spacing","typography","borderRadius","borders","shadows","animation","token","colorPrimary","primary","colorSuccess","success","colorWarning","warning","colorError","error","colorInfo","info","colorText","semantic","foreground","colorTextSecondary","mutedForeground","colorTextDisabled","neutral","colorTextPlaceholder","colorBgContainer","background","colorBgElevated","card","colorBgLayout","muted","colorBgSpotlight","accent","colorBorder","border","colorBorderSecondary","colorLink","link","colorLinkHover","linkHover","colorLinkActive","fontFamily","sans","join","fontSize","parseInt","base","fontSizeSM","sm","fontSizeLG","lg","fontSizeXL","xl","fontSizeHeading1","fontSizeHeading2","fontSizeHeading3","fontSizeHeading4","fontSizeHeading5","fontWeightStrong","fontWeight","semibold","lineHeight","normal","lineHeightSM","tight","lineHeightLG","relaxed","md","borderRadiusLG","borderRadiusSM","borderRadiusXS","borderRadiusOuter","padding","paddingLG","paddingSM","paddingXS","xs","paddingXL","margin","marginLG","marginSM","marginXS","marginXL","boxShadow","boxShadowSecondary","motionDurationFast","duration","fast","motionDurationMid","motionDurationSlow","slow","meta","mode","colorBgBase","colorTextBase","components","Button","primaryShadow","dangerShadow","colorPrimaryHover","colorPrimaryActive","Card","cardBorder","boxShadowTertiary","Menu","colorItemBg","colorItemBgHover","colorItemBgActive","colorItemBgSelected","colorItemText","colorItemTextHover","colorItemTextSelected","accentForeground","colorItemTextActive","colorSubItemBg","colorActiveBarBorderSize","Table","colorTextHeading","colorTextDescription","colorFillAlter","colorSplit","Input","input","colorBgContainerDisabled","Select","Modal","Message","contentBg","Notification","Tabs","Layout","colorBgHeader","colorBgBody","colorBgTrigger","siderBg","Dropdown","Pagination","Switch","colorTextQuaternary","colorTextTertiary","Tag","toCSSVariables","vars","addColorScale","secondary","Object","entries","forEach","key","value","kebabKey","camelToKebab","mono","String","width","style","composite","color","easing","toTailwindConfig","theme","extend","colorScaleToObject","destructive","borderWidth","transformAll","antd","cssVars","tailwind","str","replace","letter","toLowerCase","name","scale","DEFAULT","transformTheme","applyCSSVariables","document","documentElement","setProperty","exports","e","__esModule","default","module","_typeof","o","Symbol","iterator","prototype","require$$0","t","r","toPrimitive","i","call","TypeError","Number","require$$1","toPropertyKey","defineProperty","enumerable","configurable","writable","_interopRequireDefault","zh_CN","_objectSpread2","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","arguments","length","getOwnPropertyDescriptors","defineProperties","_common","common","commonLocale","yearFormat","dayFormat","cellMeridiemFormat","monthBeforeYear","locale","today","now","backToToday","ok","timeSelect","dateSelect","weekSelect","clear","week","month","year","previousMonth","nextMonth","monthSelect","yearSelect","decadeSelect","previousYear","nextYear","previousDecade","nextDecade","previousCentury","nextCentury","cellDateFormat","placeholder","rangePlaceholder","_zh_CN","_zh_CN2","lang","assign","yearPlaceholder","quarterPlaceholder","monthPlaceholder","weekPlaceholder","rangeYearPlaceholder","rangeMonthPlaceholder","rangeQuarterPlaceholder","rangeWeekPlaceholder","timePickerLocale","items_per_page","jump_to","jump_to_confirm","page","prev_page","next_page","prev_5","next_5","prev_3","next_3","page_size","_zh_CN3","_zh_CN4","typeTemplate","localeValues","DatePicker","TimePicker","Calendar","global","close","filterTitle","filterConfirm","filterReset","filterEmptyText","filterCheckAll","filterSearchPlaceholder","emptyText","selectAll","selectInvert","selectNone","selectionAll","sortTitle","expand","collapse","triggerDesc","triggerAsc","cancelSort","okText","cancelText","justOkText","Tour","Next","Previous","Finish","Popconfirm","Transfer","titles","searchPlaceholder","itemUnit","itemsUnit","remove","selectCurrent","removeCurrent","deselectAll","removeAll","Upload","uploading","removeFile","uploadError","previewFile","downloadFile","Empty","description","Icon","icon","Text","edit","copy","copied","Form","optional","defaultValidateMessages","required","enum","whitespace","date","format","parse","invalid","types","string","method","array","object","number","boolean","integer","float","regexp","email","url","hex","len","min","max","range","pattern","mismatch","Image","preview","QRCode","expired","refresh","scanned","ColorPicker","presetEmpty","transparent","singleColor","gradientColor","THEME_REGISTRY","registerTheme","themeName","themeConfig","console","log","registerThemes","themes","unregisterTheme","ThemeContext","createContext","undefined","ThemeProvider","children","defaultTheme","defaultThemeName","enableStorage","storageKey","getInitialTheme","useCallback","window","stored","localStorage","getItem","availableThemes","includes","warn","currentTheme","setCurrentTheme","useState","mounted","setMounted","useEffect","useMemo","values","overrideKey","overrideConfig","parsedConfig","JSON","transformedTheme","isDarkMode","switchTheme","setItem","setAttribute","body","removeAttribute","contextValue","defaultConfig","defaultTransformed","React","createElement","Provider","ConfigProvider","zhCN","useTheme","context","useContext","Error","getThemeMetadata","isPresetTheme","buttonStyle","backgroundColor","borderColor","transition","Title","Paragraph","Typography","TextArea","props","dark","darkTheme","forest","forestTheme","kmBaseTheme","kmFlowLightTheme","party","partyTheme","redTheme","springFestivalTheme","light","open","onClose","safeThemeConfig","editingConfig","setEditingConfig","originalConfig","setOriginalConfig","presetOriginalConfig","setPresetOriginalConfig","activeTab","setActiveTab","refreshKey","setRefreshKey","startsWith","themeData","prev","colorToHex","toHexString","updateConfig","path","updatedConfig","newConfig","stringify","current","applyConfigRealtime","transformer","colorLabelMap","cardForeground","destructiveForeground","ColorInput","memo","label","onChange","colorPath","localValue","setLocalValue","pickerOpen","setPickerOpen","tempColor","setTempColor","colorPickerRef","useRef","zhLabel","handleClickOutside","event","contains","target","addEventListener","removeEventListener","className","ref","hexColor","varName","onOpenChange","trigger","destroyTooltipOnHide","getPopupContainer","parentElement","newValue","onBlur","GenericSlider","unit","cssVarName","step","useNumberValue","parseValue","val","match","parseFloat","displayValue","display","alignItems","gap","marginBottom","paddingRight","minWidth","flexShrink","flex","Slider","cssValue","onAfterChange","tooltip","formatter","BorderConfigRow","borderValue","onWidthChange","onStyleChange","onColorChange","borderStyleOptions","localColor","setLocalColor","isPickerOpen","setIsPickerOpen","disabled","options","Array","isArray","showText","size","height","tabItems","BgColorsOutlined","type","map","themeKey","isPreset","metadata","themeDescription","isActive","canDelete","isModified","hasOverride","hoverable","onClick","extra","DeleteOutlined","stopPropagation","message","confirm","title","content","onOk","removeItem","handleDeleteTheme","CheckCircleOutlined","Tooltip","marginLeft","Collapse","defaultActiveKey","items","FontSizeOutlined","fontFamilyOptions","fontSizeLabels","fontWeightLabels","medium","bold","currentFontFamily","Space","direction","level","find","opt","getCurrentFontKey","selected","split","s","trim","optionLabelProp","option","Option","marginTop","paddingTop","ColumnWidthOutlined","spacingLabels","BorderOutlined","borderRadiusLabels","none","full","maxValue","initialized","setInitialized","thick","dashed","dotted","thin","solid","borderLabelMap","combineBorder","parts","parseBorder","newWidth","newStyle","newColor","Divider","textAlign","SaveOutlined","jsonText","setJsonText","parsed","handleJsonChange","rows","Drawer","placement","mask","accept","showUploadList","beforeUpload","file","reader","FileReader","onload","result","Date","readAsText","UploadOutlined","DownloadOutlined","dataStr","dataBlob","Blob","URL","createObjectURL","href","download","click","revokeObjectURL","ReloadOutlined","Fragment","okButtonProps","danger","hadOverride","customKey","savedConfig","setTimeout","footer","justifyContent","PlusOutlined","prompt","toLocaleDateString","fileName","activeKey","tabPosition","showIcon","styleId","getElementById","id","innerHTML","head","appendChild","menuItems","CheckOutlined","nextIndex","indexOf","menu","themeContext","require","filename","loadPresetThemes","async","jsonPath","response","fetch","json"],"mappings":"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","x_google_ignoreList":[1,2,3,4,5,6,7,8,9,10,11,12,13,14]}