# ä½¿ç”¨æŒ‡å—

> è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜å’Œç¤ºä¾‹ï¼Œå¸®åŠ©ä½ åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ `@km-design/theme-system`

## ğŸ“‹ ç›®å½•

- [GitHub é›†æˆæ–¹å¼](#github-é›†æˆæ–¹å¼)
- [UmiJS é¡¹ç›®é›†æˆ](#umijs-é¡¹ç›®é›†æˆ)
- [Next.js é¡¹ç›®é›†æˆ](#nextjs-é¡¹ç›®é›†æˆ)
- [Tailwind CSS é…ç½®](#tailwind-css-é…ç½®)
- [ä½¿ç”¨ CSS Variables](#ä½¿ç”¨-css-variables)
- [æ³¨å†Œè‡ªå®šä¹‰ä¸»é¢˜](#æ³¨å†Œè‡ªå®šä¹‰ä¸»é¢˜)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ“¦ GitHub é›†æˆæ–¹å¼

### ä¸ºä»€ä¹ˆä½¿ç”¨ GitHubï¼Ÿ

- âœ… **ç‰ˆæœ¬æ§åˆ¶**ï¼šå®Œæ•´çš„ Git å†å²è®°å½•å’Œæ ‡ç­¾ç®¡ç†
- âœ… **æ— éœ€ npm è´¦å·**ï¼šä¸éœ€è¦å‘å¸ƒåˆ° npm å³å¯ä½¿ç”¨
- âœ… **å¿«é€Ÿè¿­ä»£**ï¼šå¯ä»¥å¿«é€Ÿå‘å¸ƒæ–°ç‰ˆæœ¬
- âœ… **å¼€æºåä½œ**ï¼šå›¢é˜Ÿæˆå‘˜å¯ä»¥è´¡çŒ®å’Œå®¡æŸ¥

### å®‰è£…æ­¥éª¤

#### 1. åœ¨é¡¹ç›®ä¸­å®‰è£…

```bash
# æ–¹å¼ä¸€ï¼šä½¿ç”¨ latest æ ‡ç­¾ï¼ˆæ¨èï¼Œè‡ªåŠ¨è·å–æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼‰â­
pnpm add git+https://github.com/hjw472015868/theme.git#latest

# æ–¹å¼äºŒï¼šå®‰è£…æŒ‡å®šç‰ˆæœ¬ï¼ˆç¨³å®šç‰ˆæœ¬ï¼‰
pnpm add git+https://github.com/hjw472015868/theme.git#v1.0.0

# æ–¹å¼ä¸‰ï¼šä½¿ç”¨ main åˆ†æ”¯ï¼ˆå¼€å‘ç‰ˆæœ¬ï¼Œä¸æ¨èç”Ÿäº§ç¯å¢ƒï¼‰
pnpm add git+https://github.com/hjw472015868/theme.git#main
```

#### 2. é…ç½® package.json

**æ¨èä½¿ç”¨ latest æ ‡ç­¾**ï¼ˆè‡ªåŠ¨è·å–æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼‰ï¼š

```json
{
  "dependencies": {
    "@km-design/theme-system": "git+https://github.com/hjw472015868/theme.git#latest"
  }
}
```

**æˆ–ä½¿ç”¨å›ºå®šç‰ˆæœ¬**ï¼ˆç¨³å®šå¯é ï¼‰ï¼š

```json
{
  "dependencies": {
    "@km-design/theme-system": "git+https://github.com/hjw472015868/theme.git#v1.0.0"
  }
}
```

**ä½¿ç”¨ main åˆ†æ”¯**ï¼ˆå¼€å‘ç‰ˆæœ¬ï¼Œä¸æ¨èç”Ÿäº§ç¯å¢ƒï¼‰ï¼š

```json
{
  "dependencies": {
    "@km-design/theme-system": "git+https://github.com/hjw472015868/theme.git#main"
  }
}
```

#### 3. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### æ›´æ–°åŒ…

#### ä½¿ç”¨ latest æ ‡ç­¾ï¼ˆæ¨èï¼‰â­

å¦‚æœä½¿ç”¨ `latest` æ ‡ç­¾ï¼Œæ›´æ–°éå¸¸ç®€å•ï¼š

```bash
# åˆ é™¤ lock æ–‡ä»¶ï¼Œé‡æ–°å®‰è£…ï¼ˆä¼šè‡ªåŠ¨æ‹‰å– latest æ ‡ç­¾æŒ‡å‘çš„æœ€æ–°ç‰ˆæœ¬ï¼‰
rm -rf node_modules pnpm-lock.yaml
pnpm install

# æˆ–ä½¿ç”¨ pnpm update
pnpm update @km-design/theme-system
```

**ç‰¹ç‚¹**ï¼š
- âœ… è‡ªåŠ¨è·å–æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼ˆlatest æ ‡ç­¾æŒ‡å‘çš„ç‰ˆæœ¬ï¼‰
- âœ… æ— éœ€æ‰‹åŠ¨æ›´æ–°ç‰ˆæœ¬å·
- âœ… é€‚åˆç”Ÿäº§ç¯å¢ƒï¼ˆä½¿ç”¨ç¨³å®šç‰ˆæœ¬ï¼Œä¸æ˜¯å¼€å‘åˆ†æ”¯ï¼‰

#### æ›´æ–°åˆ°æŒ‡å®šç‰ˆæœ¬

```bash
# æ›´æ–°åˆ°æŒ‡å®šæ ‡ç­¾ç‰ˆæœ¬
pnpm add git+https://github.com/hjw472015868/theme.git#v1.0.1
```

#### æ›´æ–°åˆ° main åˆ†æ”¯ï¼ˆå¼€å‘ç‰ˆæœ¬ï¼‰

```bash
# æ›´æ–°åˆ° main åˆ†æ”¯æœ€æ–°ä»£ç 
rm -rf node_modules pnpm-lock.yaml
pnpm install
```

### åœ¨ monorepo ä¸­ä½¿ç”¨

å¦‚æœé¡¹ç›®æ˜¯ monorepoï¼Œå¯ä»¥åœ¨æ ¹ç›®å½•çš„ `package.json` ä¸­é…ç½®ï¼š

**æ¨èä½¿ç”¨ latest æ ‡ç­¾**ï¼š

```json
{
  "pnpm": {
    "overrides": {
      "@km-design/theme-system": "git+https://github.com/hjw472015868/theme.git#latest"
    }
  }
}
```

**æˆ–ä½¿ç”¨å›ºå®šç‰ˆæœ¬**ï¼š

```json
{
  "pnpm": {
    "overrides": {
      "@km-design/theme-system": "git+https://github.com/hjw472015868/theme.git#v1.0.0"
    }
  }
}
```

---

## ğŸš€ UmiJS é¡¹ç›®é›†æˆ

### å®Œæ•´é›†æˆæ­¥éª¤

#### 1. å®‰è£…åŒ…

```bash
# æ¨èï¼šä½¿ç”¨ latest æ ‡ç­¾ï¼ˆè‡ªåŠ¨è·å–æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼‰
pnpm add git+https://github.com/hjw472015868/theme.git#latest

# æˆ–ä½¿ç”¨å›ºå®šç‰ˆæœ¬
pnpm add git+https://github.com/hjw472015868/theme.git#v1.0.0
```

#### 2. åœ¨ `app.tsx` ä¸­ä½¿ç”¨

```typescript
// app.tsx
import { UmiThemeProvider } from '@km-design/theme-system';

export function rootContainer(container: React.ReactElement) {
  return (
    <UmiThemeProvider 
      defaultTheme="km-base"
      enableStorage={true}
      storageKey="my-app-theme"
    >
      {container}
    </UmiThemeProvider>
  );
}
```

#### 3. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨

```typescript
// src/components/Header.tsx
import { useTheme, ThemeSwitcher } from '@km-design/theme-system';

export default function Header() {
  const { currentTheme, switchTheme, availableThemes } = useTheme();
  
  return (
    <header style={{ 
      background: 'var(--card)', 
      padding: 'var(--spacing-md)' 
    }}>
      <div>æˆ‘çš„åº”ç”¨</div>
      <ThemeSwitcher />
      <p>å½“å‰ä¸»é¢˜: {currentTheme}</p>
      <div>
        {availableThemes.map(theme => (
          <button key={theme} onClick={() => switchTheme(theme)}>
            {theme}
          </button>
        ))}
      </div>
    </header>
  );
}
```

#### 4. é…ç½® Tailwind CSSï¼ˆå¯é€‰ï¼‰

åœ¨ `tailwind.config.js` ä¸­é…ç½®ï¼š

```javascript
module.exports = {
  content: [
    './src/**/*.{js,jsx,ts,tsx}',
  ],
  darkMode: 'class',
  theme: {
    extend: {
      colors: {
        background: 'var(--background)',
        foreground: 'var(--foreground)',
        card: {
          DEFAULT: 'var(--card)',
          foreground: 'var(--card-foreground)',
        },
        primary: {
          DEFAULT: 'var(--primary)',
          foreground: 'var(--primary-foreground)',
          50: 'var(--color-primary-50)',
          100: 'var(--color-primary-100)',
          200: 'var(--color-primary-200)',
          300: 'var(--color-primary-300)',
          400: 'var(--color-primary-400)',
          500: 'var(--color-primary-500)',
          600: 'var(--color-primary-600)',
          700: 'var(--color-primary-700)',
          800: 'var(--color-primary-800)',
          900: 'var(--color-primary-900)',
        },
      },
      spacing: {
        xs: 'var(--spacing-xs)',
        sm: 'var(--spacing-sm)',
        md: 'var(--spacing-md)',
        lg: 'var(--spacing-lg)',
        xl: 'var(--spacing-xl)',
      },
      borderRadius: {
        sm: 'var(--radius-sm)',
        md: 'var(--radius-md)',
        lg: 'var(--radius-lg)',
      },
    },
  },
  plugins: [],
};
```

---

## ğŸš€ Next.js é¡¹ç›®é›†æˆ

### å®Œæ•´é›†æˆæ­¥éª¤

#### 1. å®‰è£…åŒ…

```bash
# æ¨èï¼šä½¿ç”¨ latest æ ‡ç­¾ï¼ˆè‡ªåŠ¨è·å–æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼‰
pnpm add git+https://github.com/hjw472015868/theme.git#latest

# æˆ–ä½¿ç”¨å›ºå®šç‰ˆæœ¬
pnpm add git+https://github.com/hjw472015868/theme.git#v1.0.0
```

#### 2. åˆ›å»ºä¸»é¢˜åŒ…è£…å™¨ï¼ˆæ¨èï¼‰

```typescript
// theme/theme-wrapper.tsx
'use client';
import { NextThemeProvider } from '@km-design/theme-system';

export function ThemeWrapper({ children }: { children: React.ReactNode }) {
  return (
    <NextThemeProvider 
      defaultTheme="light"
      enableStorage={true}
      storageKey="km-flow-theme"
    >
      {children}
    </NextThemeProvider>
  );
}
```

#### 3. åœ¨ `app/layout.tsx` ä¸­ä½¿ç”¨

```typescript
// app/layout.tsx
import { ThemeWrapper } from '@/theme';

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="zh-CN">
      <body>
        <ThemeWrapper>
          {children}
        </ThemeWrapper>
      </body>
    </html>
  );
}
```

#### 4. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨

```typescript
// app/components/Header.tsx
'use client';
import { useTheme, ThemeSwitcher } from '@km-design/theme-system';

export default function Header() {
  const { currentTheme, switchTheme, isDarkMode, availableThemes } = useTheme();
  
  return (
    <header className="bg-card p-md">
      <div>æˆ‘çš„åº”ç”¨</div>
      <ThemeSwitcher />
      <p>å½“å‰ä¸»é¢˜: {currentTheme}</p>
      {isDarkMode && <span>ğŸŒ™ æš—è‰²æ¨¡å¼</span>}
      <div>
        {availableThemes.map(theme => (
          <button key={theme} onClick={() => switchTheme(theme)}>
            {theme}
          </button>
        ))}
      </div>
    </header>
  );
}
```

#### 5. é…ç½® Tailwind CSSï¼ˆå¯é€‰ï¼‰

åœ¨ `tailwind.config.js` ä¸­é…ç½®ï¼š

```javascript
module.exports = {
  content: [
    './app/**/*.{js,ts,jsx,tsx,mdx}',
    './components/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  darkMode: 'class',
  theme: {
    extend: {
      colors: {
        background: 'var(--background)',
        foreground: 'var(--foreground)',
        card: {
          DEFAULT: 'var(--card)',
          foreground: 'var(--card-foreground)',
        },
        primary: {
          DEFAULT: 'var(--primary)',
          foreground: 'var(--primary-foreground)',
          50: 'var(--color-primary-50)',
          100: 'var(--color-primary-100)',
          // ... æ›´å¤šé¢œè‰²æ¢¯åº¦
        },
      },
      spacing: {
        xs: 'var(--spacing-xs)',
        sm: 'var(--spacing-sm)',
        md: 'var(--spacing-md)',
        lg: 'var(--spacing-lg)',
        xl: 'var(--spacing-xl)',
      },
      borderRadius: {
        sm: 'var(--radius-sm)',
        md: 'var(--radius-md)',
        lg: 'var(--radius-lg)',
      },
    },
  },
  plugins: [],
};
```

---

## ğŸ¨ Tailwind CSS é…ç½®

### å®Œæ•´é…ç½®ç¤ºä¾‹

```javascript
// tailwind.config.js
module.exports = {
  content: [
    './app/**/*.{js,ts,jsx,tsx,mdx}',
    './components/**/*.{js,ts,jsx,tsx,mdx}',
  ],
  darkMode: 'class',
  theme: {
    extend: {
      // ========== é¢œè‰² ==========
      colors: {
        // è¯­ä¹‰åŒ–é¢œè‰²
        background: 'var(--background)',
        foreground: 'var(--foreground)',
        card: {
          DEFAULT: 'var(--card)',
          foreground: 'var(--card-foreground)',
        },
        popover: {
          DEFAULT: 'var(--card)',
          foreground: 'var(--card-foreground)',
        },
        muted: {
          DEFAULT: 'var(--muted)',
          foreground: 'var(--muted-foreground)',
        },
        accent: {
          DEFAULT: 'var(--accent)',
          foreground: 'var(--accent-foreground)',
        },
        destructive: {
          DEFAULT: 'var(--destructive)',
          foreground: 'var(--destructive-foreground)',
        },
        border: 'var(--border)',
        input: 'var(--input)',
        ring: 'var(--primary)',
        
        // å“ç‰Œè‰²æ¢¯åº¦
        primary: {
          DEFAULT: 'var(--primary)',
          50: 'var(--color-primary-50)',
          100: 'var(--color-primary-100)',
          200: 'var(--color-primary-200)',
          300: 'var(--color-primary-300)',
          400: 'var(--color-primary-400)',
          500: 'var(--color-primary-500)',
          600: 'var(--color-primary-600)',
          700: 'var(--color-primary-700)',
          800: 'var(--color-primary-800)',
          900: 'var(--color-primary-900)',
        },
        secondary: {
          DEFAULT: 'var(--secondary)',
          50: 'var(--color-secondary-50)',
          // ... æ›´å¤šæ¢¯åº¦
        },
        success: {
          DEFAULT: 'var(--success)',
          50: 'var(--color-success-50)',
          // ... æ›´å¤šæ¢¯åº¦
        },
        warning: {
          DEFAULT: 'var(--warning)',
          50: 'var(--color-warning-50)',
          // ... æ›´å¤šæ¢¯åº¦
        },
        error: {
          DEFAULT: 'var(--error)',
          50: 'var(--color-error-50)',
          // ... æ›´å¤šæ¢¯åº¦
        },
        info: {
          DEFAULT: 'var(--info)',
          50: 'var(--color-info-50)',
          // ... æ›´å¤šæ¢¯åº¦
        },
        neutral: {
          50: 'var(--color-neutral-50)',
          100: 'var(--color-neutral-100)',
          // ... æ›´å¤šæ¢¯åº¦
        },
      },
      
      // ========== é—´è· ==========
      spacing: {
        xs: 'var(--spacing-xs)',
        sm: 'var(--spacing-sm)',
        md: 'var(--spacing-md)',
        lg: 'var(--spacing-lg)',
        xl: 'var(--spacing-xl)',
        '2xl': 'var(--spacing-2xl)',
        '3xl': 'var(--spacing-3xl)',
      },
      
      // ========== åœ†è§’ ==========
      borderRadius: {
        none: 'var(--radius-none)',
        sm: 'var(--radius-sm)',
        md: 'var(--radius-md)',
        lg: 'var(--radius-lg)',
        xl: 'var(--radius-xl)',
        '2xl': 'var(--radius-2xl)',
        full: 'var(--radius-full)',
      },
      
      // ========== å­—ä½“ ==========
      fontFamily: {
        sans: 'var(--font-family-sans)',
        mono: 'var(--font-family-mono)',
      },
      fontSize: {
        xs: 'var(--font-size-xs)',
        sm: 'var(--font-size-sm)',
        base: 'var(--font-size-base)',
        lg: 'var(--font-size-lg)',
        xl: 'var(--font-size-xl)',
        '2xl': 'var(--font-size-2xl)',
        '3xl': 'var(--font-size-3xl)',
        '4xl': 'var(--font-size-4xl)',
      },
      fontWeight: {
        light: 'var(--font-weight-light)',
        normal: 'var(--font-weight-normal)',
        medium: 'var(--font-weight-medium)',
        semibold: 'var(--font-weight-semibold)',
        bold: 'var(--font-weight-bold)',
      },
      lineHeight: {
        tight: 'var(--line-height-tight)',
        normal: 'var(--line-height-normal)',
        relaxed: 'var(--line-height-relaxed)',
      },
      
      // ========== é˜´å½± ==========
      boxShadow: {
        none: 'var(--shadow-none)',
        sm: 'var(--shadow-sm)',
        md: 'var(--shadow-md)',
        lg: 'var(--shadow-lg)',
        xl: 'var(--shadow-xl)',
        '2xl': 'var(--shadow-2xl)',
        inner: 'var(--shadow-inner)',
      },
      
      // ========== è¾¹æ¡† ==========
      borderWidth: {
        none: 'var(--border-width-none)',
        thin: 'var(--border-width-thin)',
        medium: 'var(--border-width-medium)',
        thick: 'var(--border-width-thick)',
      },
      
      // ========== åŠ¨ç”» ==========
      transitionDuration: {
        fast: 'var(--animation-duration-fast)',
        normal: 'var(--animation-duration-normal)',
        slow: 'var(--animation-duration-slow)',
      },
      transitionTimingFunction: {
        default: 'var(--animation-easing-default)',
        in: 'var(--animation-easing-in)',
        out: 'var(--animation-easing-out)',
        'in-out': 'var(--animation-easing-inOut)',
      },
    },
  },
  plugins: [],
};
```

---

## ğŸ¨ ä½¿ç”¨ CSS Variables

### åœ¨æ ·å¼æ–‡ä»¶ä¸­ä½¿ç”¨

```css
/* styles.css æˆ– styles.less */
.my-component {
  background-color: var(--background);
  color: var(--foreground);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  padding: var(--spacing-md);
  box-shadow: var(--shadow-md);
}

.my-card {
  background-color: var(--card);
  border: 1px solid var(--card-border);
  box-shadow: var(--shadow-lg);
}

.my-button {
  background-color: var(--primary);
  color: var(--primary-foreground);
  border-radius: var(--radius-md);
  padding: var(--spacing-sm) var(--spacing-md);
}
```

### åœ¨ç»„ä»¶ä¸­ä½¿ç”¨

```typescript
// å†…è”æ ·å¼
<div style={{
  backgroundColor: 'var(--background)',
  color: 'var(--foreground)',
  padding: 'var(--spacing-md)',
  borderRadius: 'var(--radius-md)',
}}>
  å†…å®¹
</div>

// ä½¿ç”¨ Tailwind CSS ç±»å
<div className="bg-background text-foreground p-md rounded-md">
  å†…å®¹
</div>
```

### å¯ç”¨çš„ CSS Variables

#### é¢œè‰²å˜é‡

```css
/* è¯­ä¹‰åŒ–é¢œè‰² */
--background
--foreground
--card
--card-foreground
--muted
--muted-foreground
--accent
--accent-foreground
--destructive
--destructive-foreground
--border
--input
--ring

/* å“ç‰Œè‰² */
--primary
--secondary
--success
--warning
--error
--info

/* é¢œè‰²æ¢¯åº¦ */
--color-primary-50 åˆ° --color-primary-900
--color-secondary-50 åˆ° --color-secondary-900
--color-success-50 åˆ° --color-success-900
--color-warning-50 åˆ° --color-warning-900
--color-error-50 åˆ° --color-error-900
--color-info-50 åˆ° --color-info-900
--color-neutral-50 åˆ° --color-neutral-900
```

#### é—´è·å˜é‡

```css
--spacing-xs
--spacing-sm
--spacing-md
--spacing-lg
--spacing-xl
--spacing-2xl
--spacing-3xl
```

#### åœ†è§’å˜é‡

```css
--radius-none
--radius-sm
--radius-md
--radius-lg
--radius-xl
--radius-2xl
--radius-full
```

#### å­—ä½“å˜é‡

```css
--font-family-sans
--font-family-mono
--font-size-xs
--font-size-sm
--font-size-base
--font-size-lg
--font-size-xl
--font-size-2xl
--font-size-3xl
--font-size-4xl
--font-weight-light
--font-weight-normal
--font-weight-medium
--font-weight-semibold
--font-weight-bold
--line-height-tight
--line-height-normal
--line-height-relaxed
```

#### é˜´å½±å˜é‡

```css
--shadow-none
--shadow-sm
--shadow-md
--shadow-lg
--shadow-xl
--shadow-2xl
--shadow-inner
```

---

## ğŸ“ æ³¨å†Œè‡ªå®šä¹‰ä¸»é¢˜

### åˆ›å»ºä¸»é¢˜æ–‡ä»¶

```json
// themes/custom.json
{
  "meta": {
    "name": "è‡ªå®šä¹‰ä¸»é¢˜",
    "version": "1.0.0",
    "author": "Your Name",
    "description": "æˆ‘çš„è‡ªå®šä¹‰ä¸»é¢˜",
    "mode": "light",
    "type": "custom"
  },
  "colors": {
    "primary": {
      "50": "#e3f2fd",
      "100": "#bbdefb",
      "200": "#90caf9",
      "300": "#64b5f6",
      "400": "#42a5f5",
      "500": "#1890ff",
      "600": "#1976d2",
      "700": "#1565c0",
      "800": "#0d47a1",
      "900": "#0a3d91"
    },
    "semantic": {
      "background": "#ffffff",
      "foreground": "#1f2937",
      "card": "#ffffff",
      "cardForeground": "#1f2937",
      "muted": "#f3f4f6",
      "mutedForeground": "#6b7280",
      "accent": "#f3f4f6",
      "accentForeground": "#1f2937",
      "destructive": "#ef4444",
      "destructiveForeground": "#ffffff",
      "border": "#e5e7eb",
      "input": "#e5e7eb",
      "link": "#1890ff",
      "linkHover": "#40a9ff"
    }
  },
  "spacing": {
    "xs": "0.25rem",
    "sm": "0.5rem",
    "md": "1rem",
    "lg": "1.5rem",
    "xl": "2rem",
    "2xl": "3rem",
    "3xl": "4rem"
  },
  "typography": {
    "fontFamily": {
      "sans": ["Inter", "system-ui", "sans-serif"],
      "mono": ["Fira Code", "monospace"]
    },
    "fontSize": {
      "xs": "0.75rem",
      "sm": "0.875rem",
      "base": "1rem",
      "lg": "1.125rem",
      "xl": "1.25rem",
      "2xl": "1.5rem",
      "3xl": "1.875rem",
      "4xl": "2.25rem"
    }
  },
  "borderRadius": {
    "none": "0",
    "sm": "0.125rem",
    "md": "0.375rem",
    "lg": "0.5rem",
    "xl": "0.75rem",
    "2xl": "1rem",
    "full": "9999px"
  }
}
```

### åœ¨ UmiJS é¡¹ç›®ä¸­æ³¨å†Œ

```typescript
// app.tsx æˆ–ä»»ä½•åœ°æ–¹
import { registerTheme } from '@km-design/theme-system';
import customTheme from './themes/custom.json';

// æ³¨å†Œè‡ªå®šä¹‰ä¸»é¢˜
registerTheme('custom', customTheme);

export function rootContainer(container: React.ReactElement) {
  return (
    <UmiThemeProvider defaultTheme="custom">
      {container}
    </UmiThemeProvider>
  );
}
```

### åœ¨ Next.js é¡¹ç›®ä¸­æ³¨å†Œ

```typescript
// theme/theme-setup.tsx
'use client';
import { registerTheme } from '@km-design/theme-system';
import customTheme from './themes/custom.json';
import { useEffect } from 'react';

export function ThemeSetup() {
  useEffect(() => {
    registerTheme('custom', customTheme);
  }, []);
  return null;
}

// app/layout.tsx
import { ThemeSetup } from '@/theme/theme-setup';

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        <ThemeSetup />
        <ThemeWrapper>
          {children}
        </ThemeWrapper>
      </body>
    </html>
  );
}
```

### æ‰¹é‡æ³¨å†Œä¸»é¢˜

```typescript
import { registerThemes } from '@km-design/theme-system';
import theme1 from './themes/theme1.json';
import theme2 from './themes/theme2.json';
import theme3 from './themes/theme3.json';

registerThemes({
  'theme1': theme1,
  'theme2': theme2,
  'theme3': theme3,
});
```

---

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ æ–°çš„é¢„è®¾ä¸»é¢˜ï¼Ÿ

**A**: 
1. åœ¨ `packages/theme-system/src/presets/` åˆ›å»º JSON æ–‡ä»¶
2. åœ¨ `src/index.ts` ä¸­å¯¼å‡º
3. åœ¨é€‚é…å™¨ä¸­æ³¨å†Œï¼ˆNext.js éœ€è¦åœ¨ `nextjs-adapter.tsx` ä¸­é™æ€å¯¼å…¥ï¼‰
4. é‡æ–°æ„å»ºåŒ…ï¼š`pnpm build`
5. æäº¤å¹¶æ¨é€ï¼Œåˆ›å»ºæ–°æ ‡ç­¾

### Q: å¦‚ä½•è‡ªå®šä¹‰ä¸»é¢˜åˆ‡æ¢å™¨æ ·å¼ï¼Ÿ

**A**: 
1. ä¿®æ”¹ `packages/theme-system/src/components/ThemeSwitcher.tsx`
2. é‡æ–°æ„å»ºåŒ…ï¼š`pnpm build`
3. æˆ–åˆ›å»ºè‡ªå·±çš„ä¸»é¢˜åˆ‡æ¢å™¨ç»„ä»¶ï¼Œä½¿ç”¨ `useTheme` Hook

### Q: å¦‚ä½•ç¦ç”¨ä¸»é¢˜æŒä¹…åŒ–ï¼Ÿ

**A**: 
```typescript
<UmiThemeProvider 
  defaultTheme="km-base"
  enableStorage={false}  // ç¦ç”¨æŒä¹…åŒ–
>
  {children}
</UmiThemeProvider>
```

### Q: å¦‚ä½•è·å–ä¸»é¢˜çš„ç‰¹å®šé¢œè‰²ï¼Ÿ

**A**: 
```typescript
const { themeConfig } = useTheme();
const primaryColor = themeConfig?.colors?.primary?.[500];
const backgroundColor = themeConfig?.colors?.semantic?.background;
```

### Q: å¦‚ä½•åœ¨é React ç»„ä»¶ä¸­ä½¿ç”¨ä¸»é¢˜ï¼Ÿ

**A**: 
```typescript
// ä½¿ç”¨ CSS Variablesï¼ˆæ¨èï¼‰
const bgColor = getComputedStyle(document.documentElement)
  .getPropertyValue('--background');
```

### Q: ä¸»é¢˜åˆ‡æ¢åæ ·å¼æ²¡æœ‰æ›´æ–°ï¼Ÿ

**A**: 
1. ç¡®ä¿ä½¿ç”¨äº† CSS Variables è€Œä¸æ˜¯ç¡¬ç¼–ç çš„é¢œè‰²å€¼
2. æ£€æŸ¥ Tailwind CSS é…ç½®æ˜¯å¦æ­£ç¡®
3. ç¡®ä¿ `ThemeProvider` åŒ…è£¹äº†æ‰€æœ‰éœ€è¦ä¸»é¢˜çš„ç»„ä»¶

### Q: Next.js é¡¹ç›®ä¸­ä½¿ç”¨ä¸»é¢˜æ—¶å‡ºç° SSR é”™è¯¯ï¼Ÿ

**A**: 
1. ç¡®ä¿ `NextThemeProvider` åœ¨å®¢æˆ·ç«¯ç»„ä»¶ä¸­ä½¿ç”¨ï¼ˆæ·»åŠ  `'use client'`ï¼‰
2. ç¡®ä¿ä¸»é¢˜æ³¨å†Œåœ¨å®¢æˆ·ç«¯è¿›è¡Œï¼ˆä½¿ç”¨ `useEffect`ï¼‰

### Q: å¦‚ä½•æ›´æ–° GitHub åŒ…åˆ°æ–°ç‰ˆæœ¬ï¼Ÿ

**A**: æ ¹æ®ä½¿ç”¨çš„æ–¹å¼ä¸åŒï¼Œæ›´æ–°æ–¹æ³•ä¹Ÿä¸åŒï¼š

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨ latest æ ‡ç­¾ï¼ˆæ¨èï¼‰â­

**package.json é…ç½®**ï¼š
```json
{
  "dependencies": {
    "@km-design/theme-system": "git+https://github.com/hjw472015868/theme.git#latest"
  }
}
```

**æ›´æ–°æ–¹å¼**ï¼š
```bash
# åˆ é™¤ lock æ–‡ä»¶ï¼Œé‡æ–°å®‰è£…ï¼ˆä¼šè‡ªåŠ¨æ‹‰å– latest æ ‡ç­¾æŒ‡å‘çš„æœ€æ–°ç‰ˆæœ¬ï¼‰
rm -rf node_modules pnpm-lock.yaml
pnpm install

# æˆ–ä½¿ç”¨ pnpm update
pnpm update @km-design/theme-system
```

**ç‰¹ç‚¹**ï¼š
- âœ… è‡ªåŠ¨è·å–æœ€æ–°ç¨³å®šç‰ˆæœ¬
- âœ… æ— éœ€æ‰‹åŠ¨æ›´æ–°ç‰ˆæœ¬å·
- âœ… é€‚åˆç”Ÿäº§ç¯å¢ƒ

#### æ–¹å¼äºŒï¼šä½¿ç”¨å›ºå®šç‰ˆæœ¬

**package.json é…ç½®**ï¼š
```json
{
  "dependencies": {
    "@km-design/theme-system": "git+https://github.com/hjw472015868/theme.git#v1.0.1"
  }
}
```

**æ›´æ–°æ–¹å¼**ï¼š
```bash
# æ›´æ–°åˆ°æŒ‡å®šç‰ˆæœ¬
pnpm add git+https://github.com/hjw472015868/theme.git#v1.0.2
```

#### æ–¹å¼ä¸‰ï¼šä½¿ç”¨ main åˆ†æ”¯

**package.json é…ç½®**ï¼š
```json
{
  "dependencies": {
    "@km-design/theme-system": "git+https://github.com/hjw472015868/theme.git#main"
  }
}
```

**æ›´æ–°æ–¹å¼**ï¼š
```bash
# åˆ é™¤ lock æ–‡ä»¶ï¼Œé‡æ–°å®‰è£…ï¼ˆä¼šè‡ªåŠ¨æ‹‰å– main åˆ†æ”¯æœ€æ–°ä»£ç ï¼‰
rm -rf node_modules pnpm-lock.yaml
pnpm install
```

**æ³¨æ„**ï¼šmain åˆ†æ”¯å¯èƒ½åŒ…å«æœªæµ‹è¯•çš„ä»£ç ï¼Œä¸æ¨èç”Ÿäº§ç¯å¢ƒä½¿ç”¨ã€‚

---

## ğŸ“ è·å–å¸®åŠ©

- æŸ¥çœ‹ [README.md](../README.md) - æ ¸å¿ƒæ–‡æ¡£
- æŸ¥çœ‹ [å¼€å‘æŒ‡å—](./å¼€å‘æŒ‡å—.md) - å¼€å‘æŒ‡å—
- æŸ¥çœ‹ [å¿«é€Ÿå‚è€ƒ](./å¿«é€Ÿå‚è€ƒ.md) - å¿«é€Ÿå‚è€ƒæ‰‹å†Œ
- æäº¤ Issue: https://github.com/hjw472015868/theme/issues

---

**æœ€åæ›´æ–°**: 2025-01-14  
**ç‰ˆæœ¬**: v1.0.0
