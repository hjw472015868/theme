# å¼€å‘å·¥ä½œæµç¨‹

> è¯´æ˜ä¸»é¢˜ç»„ä»¶çš„å¼€å‘æµç¨‹å’Œä¸åŒé¡¹ç›®çš„ä½¿ç”¨æ–¹å¼

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å¼€å‘æµç¨‹](#å¼€å‘æµç¨‹)
- [ä½¿ç”¨æ–¹å¼](#ä½¿ç”¨æ–¹å¼)
- [å‘å¸ƒæµç¨‹](#å‘å¸ƒæµç¨‹)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

### å½“å‰é¡¹ç›®ï¼ˆkm-artizen-uiï¼‰

è¿™æ˜¯ä¸€ä¸ª **monorepo** é¡¹ç›®ï¼ŒåŒ…å«ï¼š

```
km-artizen-ui/
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ theme-system/          # ä¸»é¢˜ç»„ä»¶åŒ…ï¼ˆå¼€å‘ä½ç½®ï¼‰
â”‚       â”œâ”€â”€ src/               # æºä»£ç 
â”‚       â”œâ”€â”€ presets/           # é¢„è®¾ä¸»é¢˜
â”‚       â”œâ”€â”€ docs/              # æ–‡æ¡£
â”‚       â””â”€â”€ dist/              # æ„å»ºè¾“å‡º
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ km-artizen-ai-ui/      # UmiJS é¡¹ç›®ï¼ˆä½¿ç”¨ä¸»é¢˜ç»„ä»¶ï¼‰
â”‚       â””â”€â”€ package.json        # ä½¿ç”¨ workspace:* åè®®
â””â”€â”€ package.json               # æ ¹ package.json
```

### ä¸»é¢˜ç»„ä»¶å¼€å‘ä½ç½®

**ä¸»é¢˜ç»„ä»¶åœ¨ `packages/theme-system/` ä¸­å¼€å‘**ï¼Œè¿™æ˜¯ï¼š

- âœ… ä¸»é¢˜ç»„ä»¶çš„æºä»£ç ä½ç½®
- âœ… æ‰€æœ‰ä¸»é¢˜é…ç½®å’Œé¢„è®¾ä¸»é¢˜çš„ä½ç½®
- âœ… æ–‡æ¡£å’Œå¼€å‘æŒ‡å—çš„ä½ç½®
- âœ… æ„å»ºå’Œå‘å¸ƒçš„ä½ç½®

---

## ğŸ”„ å¼€å‘æµç¨‹

### 1. åœ¨æœ¬åœ°å¼€å‘

#### å¼€å‘æ­¥éª¤

1. **ä¿®æ”¹ä¸»é¢˜ç»„ä»¶ä»£ç **

   ```bash
   cd packages/theme-system
   # ä¿®æ”¹ src/ ä¸­çš„ä»£ç 
   # ä¿®æ”¹ presets/ ä¸­çš„ä¸»é¢˜é…ç½®
   ```

2. **æ„å»ºåŒ…**

   ```bash
   cd packages/theme-system
   pnpm build
   ```

3. **åœ¨å½“å‰é¡¹ç›®ä¸­æµ‹è¯•**

   ```bash
   # å½“å‰é¡¹ç›®ä½¿ç”¨ workspace:* åè®®ï¼Œè‡ªåŠ¨ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬
   cd apps/km-artizen-ai-ui
   pnpm dev
   ```

#### ä½¿ç”¨ workspace åè®®

å½“å‰é¡¹ç›®ï¼ˆ`apps/km-artizen-ai-ui`ï¼‰ä½¿ç”¨ `workspace:*` åè®®ï¼š

```json
// apps/km-artizen-ai-ui/package.json
{
  "dependencies": {
    "@km-design/theme-system": "workspace:*"
  }
}
```

**ä¼˜åŠ¿**ï¼š

- âœ… æ— éœ€å®‰è£…ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°å¼€å‘ç‰ˆæœ¬
- âœ… ä¿®æ”¹ä»£ç åé‡æ–°æ„å»ºå³å¯ï¼Œæ— éœ€é‡æ–°å®‰è£…
- âœ… å¼€å‘æ•ˆç‡é«˜ï¼Œå®æ—¶æµ‹è¯•

### 2. å‘å¸ƒåˆ° GitHub

#### å‘å¸ƒæ­¥éª¤

1. **å®Œæˆå¼€å‘å’Œæµ‹è¯•**

   ```bash
   cd packages/theme-system
   pnpm build
   pnpm type-check
   ```

2. **æäº¤ä»£ç **

   ```bash
   cd packages/theme-system
   git add .
   git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
   ```

3. **æ¨é€åˆ° GitHub**

   ```bash
   # æ¨é€åˆ° GitHub ä»“åº“
   git push origin main

   # åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾ï¼ˆæ–°ç‰ˆæœ¬ï¼‰
   git tag v1.0.1
   git push origin v1.0.1
   ```

4. **å…¶ä»–é¡¹ç›®æ›´æ–°**

   å…¶ä»–é¡¹ç›®ï¼ˆéå½“å‰ monorepoï¼‰å¯ä»¥é€šè¿‡ GitHub å®‰è£…ï¼š

   ```bash
   pnpm add git+https://github.com/hjw472015868/theme.git#v1.0.1
   ```

---

## ğŸ“¦ ä½¿ç”¨æ–¹å¼

### æ–¹å¼ä¸€ï¼šå½“å‰é¡¹ç›®ï¼ˆmonorepo å†…éƒ¨ï¼‰

**ä½¿ç”¨ workspace åè®®**ï¼ˆæ¨èç”¨äºå¼€å‘ï¼‰

```json
// apps/km-artizen-ai-ui/package.json
{
  "dependencies": {
    "@km-design/theme-system": "workspace:*"
  }
}
```

**ç‰¹ç‚¹**ï¼š

- âœ… ç›´æ¥ä½¿ç”¨æœ¬åœ°å¼€å‘ç‰ˆæœ¬
- âœ… ä¿®æ”¹ä»£ç åé‡æ–°æ„å»ºå³å¯
- âœ… æ— éœ€å®‰è£…ï¼Œè‡ªåŠ¨é“¾æ¥
- âœ… é€‚åˆå¼€å‘å’Œæµ‹è¯•

**ä½¿ç”¨åœºæ™¯**ï¼š

- å½“å‰é¡¹ç›®ï¼ˆ`km-artizen-ai-ui`ï¼‰å¼€å‘æ—¶ä½¿ç”¨
- ä¸»é¢˜ç»„ä»¶å¼€å‘æ—¶æµ‹è¯•ä½¿ç”¨

### æ–¹å¼äºŒï¼šå…¶ä»–é¡¹ç›®ï¼ˆå¤–éƒ¨é¡¹ç›®ï¼‰

**ä½¿ç”¨ GitHub åè®®**ï¼ˆæ¨èç”¨äºç”Ÿäº§ï¼‰

```json
// å…¶ä»–é¡¹ç›®çš„ package.json
{
  "dependencies": {
    "@km-design/theme-system": "git+https://github.com/hjw472015868/theme.git#v1.0.0"
  }
}
```

**ç‰¹ç‚¹**ï¼š

- âœ… ä½¿ç”¨ GitHub å‘å¸ƒçš„ç¨³å®šç‰ˆæœ¬
- âœ… ç‰ˆæœ¬æ§åˆ¶æ¸…æ™°ï¼ˆé€šè¿‡ Git æ ‡ç­¾ï¼‰
- âœ… é€‚åˆç”Ÿäº§ç¯å¢ƒ
- âœ… å…¶ä»–é¡¹ç›®å¯ä»¥ç‹¬ç«‹ä½¿ç”¨

**ä½¿ç”¨åœºæ™¯**ï¼š

- å…¶ä»–ç‹¬ç«‹é¡¹ç›®ï¼ˆå¦‚ `km-flow-ui`ï¼‰
- ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- éœ€è¦ç¨³å®šç‰ˆæœ¬çš„é¡¹ç›®

---

## ğŸš€ å‘å¸ƒæµç¨‹

### å®Œæ•´å‘å¸ƒæµç¨‹ï¼ˆè¯¦ç»†æ­¥éª¤ï¼‰

#### 1. å¼€å‘é˜¶æ®µ

```bash
# è¿›å…¥ä¸»é¢˜åŒ…ç›®å½•
cd packages/theme-system

# ä¿®æ”¹ä»£ç 
# - ä¿®æ”¹ src/ ä¸­çš„ç»„ä»¶ä»£ç 
# - ä¿®æ”¹ presets/ ä¸­çš„ä¸»é¢˜é…ç½®
# - æ·»åŠ æ–°ä¸»é¢˜æ–‡ä»¶åˆ° presets/ ç›®å½•
# - ä¿®æ”¹æ–‡æ¡£ç­‰

# å¦‚æœæ·»åŠ äº†æ–°ä¸»é¢˜ï¼Œéœ€è¦è¿è¡Œç”Ÿæˆè„šæœ¬ï¼ˆä¼šè‡ªåŠ¨åœ¨ build å‰è¿è¡Œï¼‰
pnpm run generate:themes

# æ„å»ºåŒ…ï¼ˆå¿…é¡»ï¼ï¼‰
pnpm build

# æ£€æŸ¥æ„å»ºç»“æœ
ls -la dist/

# åœ¨å½“å‰é¡¹ç›®ä¸­æµ‹è¯•
cd ../../apps/km-artizen-ai-ui
pnpm dev

# éªŒè¯åŠŸèƒ½
# - æ£€æŸ¥ä¸»é¢˜åˆ‡æ¢æ˜¯å¦æ­£å¸¸
# - æ£€æŸ¥æ ·å¼æ˜¯å¦æ­£ç¡®åº”ç”¨
# - æ£€æŸ¥ç±»å‹å®šä¹‰æ˜¯å¦æ­£ç¡®
# - æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
```

#### 2. æµ‹è¯•éªŒè¯é˜¶æ®µ

```bash
# åœ¨å½“å‰é¡¹ç›®ä¸­æµ‹è¯•
cd apps/km-artizen-ai-ui
pnpm dev

# å…¨é¢æµ‹è¯•
# âœ… æµ‹è¯•æ‰€æœ‰ä¸»é¢˜åˆ‡æ¢
# âœ… æµ‹è¯•ä¸»é¢˜æŒä¹…åŒ–ï¼ˆåˆ·æ–°é¡µé¢ï¼‰
# âœ… æµ‹è¯•æ–°æ·»åŠ çš„ä¸»é¢˜
# âœ… æµ‹è¯•æ ·å¼æ˜¯å¦æ­£ç¡®
# âœ… æ£€æŸ¥æ§åˆ¶å°é”™è¯¯
# âœ… æ£€æŸ¥ç±»å‹é”™è¯¯ï¼ˆå¦‚æœæœ‰ TypeScriptï¼‰
```

#### 3. æäº¤ä»£ç é˜¶æ®µ

```bash
# å›åˆ°ä¸»é¢˜åŒ…ç›®å½•
cd packages/theme-system

# æ£€æŸ¥ä¿®æ”¹çš„æ–‡ä»¶
git status

# æŸ¥çœ‹ä¿®æ”¹å†…å®¹
git diff

# æ·»åŠ ä¿®æ”¹çš„æ–‡ä»¶
git add .

# æäº¤ä»£ç ï¼ˆä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯ï¼‰
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½æè¿°"
# æˆ–
git commit -m "fix: ä¿®å¤é—®é¢˜æè¿°"
# æˆ–
git commit -m "docs: æ›´æ–°æ–‡æ¡£"

# æäº¤ä¿¡æ¯æ ¼å¼å»ºè®®ï¼š
# - feat: æ–°åŠŸèƒ½
# - fix: ä¿®å¤é—®é¢˜
# - docs: æ–‡æ¡£æ›´æ–°
# - style: ä»£ç æ ¼å¼è°ƒæ•´
# - refactor: ä»£ç é‡æ„
# - test: æµ‹è¯•ç›¸å…³
# - chore: æ„å»º/å·¥å…·ç›¸å…³
```

#### 4. æ¨é€åˆ° GitHub é˜¶æ®µ

```bash
# ç¡®ä¿åœ¨ä¸»é¢˜åŒ…ç›®å½•
cd packages/theme-system

# æ£€æŸ¥è¿œç¨‹ä»“åº“
git remote -v

# æ¨é€åˆ° GitHub main åˆ†æ”¯
git push origin main

# å¦‚æœæ¨é€å¤±è´¥ï¼Œå¯èƒ½éœ€è¦å…ˆæ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# ç„¶åå†æ¨é€
git push origin main
```

#### 5. åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾ï¼ˆç‰ˆæœ¬å‘å¸ƒï¼‰

```bash
# ç¡®ä¿åœ¨ä¸»é¢˜åŒ…ç›®å½•
cd packages/theme-system

# æŸ¥çœ‹å½“å‰ç‰ˆæœ¬
cat package.json | grep version

# ç¡®å®šæ–°ç‰ˆæœ¬å·ï¼ˆéµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰
# - ä¸»ç‰ˆæœ¬å·ï¼ˆ1.0.0ï¼‰ï¼šä¸å…¼å®¹çš„ API ä¿®æ”¹
# - æ¬¡ç‰ˆæœ¬å·ï¼ˆ0.1.0ï¼‰ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
# - ä¿®è®¢å·ï¼ˆ0.0.1ï¼‰ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

# åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾ï¼ˆä½¿ç”¨ v å‰ç¼€ï¼‰
git tag v1.0.1

# åŒæ—¶åˆ›å»º/æ›´æ–° latest æ ‡ç­¾ï¼ˆå¯é€‰ï¼Œæ¨èç”¨äºè‡ªåŠ¨æ›´æ–°ï¼‰
git tag -f latest v1.0.1

# æŸ¥çœ‹åˆ›å»ºçš„æ ‡ç­¾
git tag -l

# æ¨é€ç‰ˆæœ¬æ ‡ç­¾åˆ° GitHub
git push origin v1.0.1

# æ¨é€ latest æ ‡ç­¾ï¼ˆå¦‚æœåˆ›å»ºäº†ï¼‰
git push origin latest --force

# æˆ–è€…æ¨é€æ‰€æœ‰æ ‡ç­¾
git push origin --tags
```

#### 6. å…¶ä»–é¡¹ç›®æ›´æ–°é˜¶æ®µ

```bash
# åœ¨å…¶ä»–é¡¹ç›®ä¸­ä½¿ç”¨æ–°ç‰ˆæœ¬
cd /path/to/other/project

# æ–¹å¼ä¸€ï¼šæ›´æ–°åˆ°æŒ‡å®šç‰ˆæœ¬
pnpm add git+https://github.com/hjw472015868/theme.git#v1.0.1

# æ–¹å¼äºŒï¼šä½¿ç”¨ latest æ ‡ç­¾ï¼ˆè‡ªåŠ¨è·å–æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼‰
# é¦–å…ˆéœ€è¦åœ¨ä¸»é¢˜åŒ…ä¸­åˆ›å»ºå¹¶æ¨é€ latest æ ‡ç­¾ï¼ˆè§ä¸‹æ–¹è¯´æ˜ï¼‰
pnpm add git+https://github.com/hjw472015868/theme.git#latest
# æˆ–ä¿®æ”¹ package.jsonï¼š
# "@km-design/theme-system": "git+https://github.com/hjw472015868/theme.git#latest"

# æ–¹å¼ä¸‰ï¼šç›´æ¥æ›´æ–°åˆ° main åˆ†æ”¯ï¼ˆå¼€å‘ç‰ˆæœ¬ï¼Œä¸æ¨èç”Ÿäº§ç¯å¢ƒï¼‰
pnpm add git+https://github.com/hjw472015868/theme.git#main

# é‡æ–°å®‰è£…ä¾èµ–
pnpm install

# é‡æ–°æ„å»ºé¡¹ç›®
pnpm build
```

---

### ğŸ“‹ å‘å¸ƒæ£€æŸ¥æ¸…å•

åœ¨å‘å¸ƒå‰ï¼Œè¯·ç¡®ä¿å®Œæˆä»¥ä¸‹æ£€æŸ¥ï¼š

#### âœ… ä»£ç æ£€æŸ¥

- [ ] ä»£ç å·²é€šè¿‡æ„å»ºï¼ˆ`pnpm build` æˆåŠŸï¼‰
- [ ] æ²¡æœ‰ TypeScript ç±»å‹é”™è¯¯
- [ ] æ²¡æœ‰ ESLint é”™è¯¯ï¼ˆå¦‚æœæœ‰é…ç½®ï¼‰
- [ ] ä»£ç å·²æµ‹è¯•é€šè¿‡

#### âœ… åŠŸèƒ½æ£€æŸ¥

- [ ] æ‰€æœ‰ä¸»é¢˜åˆ‡æ¢æ­£å¸¸
- [ ] ä¸»é¢˜æŒä¹…åŒ–æ­£å¸¸ï¼ˆåˆ·æ–°é¡µé¢ä¿æŒä¸»é¢˜ï¼‰
- [ ] æ–°æ·»åŠ çš„ä¸»é¢˜å¯ä»¥æ­£å¸¸ä½¿ç”¨
- [ ] æ ·å¼æ­£ç¡®åº”ç”¨
- [ ] æ§åˆ¶å°æ²¡æœ‰é”™è¯¯

#### âœ… æ–‡ä»¶æ£€æŸ¥

- [ ] `dist/` ç›®å½•å·²ç”Ÿæˆ
- [ ] `dist/` ç›®å½•åŒ…å«æ‰€æœ‰å¿…éœ€æ–‡ä»¶
- [ ] `presets/` ç›®å½•åŒ…å«æ‰€æœ‰ä¸»é¢˜æ–‡ä»¶
- [ ] `src/presets/` ç›®å½•å·²åŒæ­¥ï¼ˆå¦‚æœæœ‰æ–°ä¸»é¢˜ï¼‰

#### âœ… Git æ£€æŸ¥

- [ ] æ‰€æœ‰ä¿®æ”¹å·²æäº¤
- [ ] æäº¤ä¿¡æ¯æ¸…æ™°æ˜ç¡®
- [ ] æ²¡æœ‰æœªæäº¤çš„æ–‡ä»¶

#### âœ… ç‰ˆæœ¬æ£€æŸ¥

- [ ] å·²ç¡®å®šæ–°ç‰ˆæœ¬å·
- [ ] ç‰ˆæœ¬å·ç¬¦åˆè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ
- [ ] å·²åˆ›å»ºå¯¹åº”çš„ Git æ ‡ç­¾

---

### ğŸ”„ å®Œæ•´å‘å¸ƒæµç¨‹ç¤ºä¾‹

#### ç¤ºä¾‹ï¼šæ·»åŠ æ–°ä¸»é¢˜å¹¶å‘å¸ƒ

```bash
# 1. è¿›å…¥ä¸»é¢˜åŒ…ç›®å½•
cd packages/theme-system

# 2. æ·»åŠ æ–°ä¸»é¢˜æ–‡ä»¶
cp presets/default.json presets/my-new-theme.json
# ç¼–è¾‘ my-new-theme.jsonï¼Œä¿®æ”¹ä¸»é¢˜é…ç½®

# 3. ç”Ÿæˆå¯¼å…¥ä»£ç ï¼ˆè‡ªåŠ¨æ‰«æå¹¶ç”Ÿæˆï¼‰
pnpm run generate:themes

# 4. æ„å»ºåŒ…
pnpm build

# 5. æµ‹è¯•ï¼ˆåœ¨å½“å‰é¡¹ç›®ä¸­ï¼‰
cd ../../apps/km-artizen-ai-ui
pnpm dev
# åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•æ–°ä¸»é¢˜

# 6. å›åˆ°ä¸»é¢˜åŒ…ç›®å½•
cd ../../packages/theme-system

# 7. æ£€æŸ¥ä¿®æ”¹
git status
git diff

# 8. æäº¤ä»£ç 
git add .
git commit -m "feat: æ·»åŠ  my-new-theme ä¸»é¢˜"

# 9. æ¨é€åˆ° GitHub
git push origin main

# 10. åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾
git tag v1.0.1
git tag -f latest v1.0.1  # åŒæ—¶æ›´æ–° latest æ ‡ç­¾æŒ‡å‘æ–°ç‰ˆæœ¬
git push origin v1.0.1
git push origin latest --force  # æ¨é€ latest æ ‡ç­¾

# 11. åœ¨å…¶ä»–é¡¹ç›®ä¸­ä½¿ç”¨
cd /path/to/other/project

# æ–¹å¼ä¸€ï¼šä½¿ç”¨ latest æ ‡ç­¾ï¼ˆæ¨èï¼Œè‡ªåŠ¨è·å–æœ€æ–°ç‰ˆæœ¬ï¼‰
pnpm add git+https://github.com/hjw472015868/theme.git#latest

# æ–¹å¼äºŒï¼šä½¿ç”¨å›ºå®šç‰ˆæœ¬
pnpm add git+https://github.com/hjw472015868/theme.git#v1.0.1
```

#### ç¤ºä¾‹ï¼šä¿®å¤é—®é¢˜å¹¶å‘å¸ƒ

```bash
# 1. è¿›å…¥ä¸»é¢˜åŒ…ç›®å½•
cd packages/theme-system

# 2. ä¿®å¤é—®é¢˜
# ç¼–è¾‘ src/ ä¸­çš„æ–‡ä»¶ï¼Œä¿®å¤ bug

# 3. æ„å»ºåŒ…
pnpm build

# 4. æµ‹è¯•
cd ../../apps/km-artizen-ai-ui
pnpm dev
# éªŒè¯é—®é¢˜å·²ä¿®å¤

# 5. å›åˆ°ä¸»é¢˜åŒ…ç›®å½•
cd ../../packages/theme-system

# 6. æäº¤ä»£ç 
git add .
git commit -m "fix: ä¿®å¤ä¸»é¢˜æŒä¹…åŒ–é—®é¢˜"

# 7. æ¨é€åˆ° GitHub
git push origin main

# 8. åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾ï¼ˆä¿®è®¢ç‰ˆæœ¬ï¼‰
git tag v1.0.2
git tag -f latest v1.0.2  # åŒæ—¶æ›´æ–° latest æ ‡ç­¾æŒ‡å‘æ–°ç‰ˆæœ¬
git push origin v1.0.2
git push origin latest --force  # æ¨é€ latest æ ‡ç­¾

# 9. åœ¨å…¶ä»–é¡¹ç›®ä¸­æ›´æ–°
cd /path/to/other/project

# æ–¹å¼ä¸€ï¼šä½¿ç”¨ latest æ ‡ç­¾ï¼ˆå¦‚æœå·²é…ç½®ï¼Œä¼šè‡ªåŠ¨è·å–æœ€æ–°ç‰ˆæœ¬ï¼‰
# åˆ é™¤ lock æ–‡ä»¶åé‡æ–°å®‰è£…
rm -rf node_modules pnpm-lock.yaml
pnpm install

# æ–¹å¼äºŒï¼šä½¿ç”¨å›ºå®šç‰ˆæœ¬
pnpm add git+https://github.com/hjw472015868/theme.git#v1.0.2
```

---

### âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

1. **å¿…é¡»æ„å»ºåå†æ¨é€**
   - âŒ ä¸è¦ç›´æ¥æ¨é€æœªæ„å»ºçš„ä»£ç 
   - âœ… å¿…é¡»å…ˆè¿è¡Œ `pnpm build` ç”Ÿæˆ `dist/` ç›®å½•
   - âœ… ç¡®ä¿ `dist/` ç›®å½•åŒ…å«æ‰€æœ‰å¿…éœ€æ–‡ä»¶

2. **ç‰ˆæœ¬å·ç®¡ç†**
   - éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒï¼ˆSemantic Versioningï¼‰
   - ä¸»ç‰ˆæœ¬å·ï¼šä¸å…¼å®¹çš„ API ä¿®æ”¹
   - æ¬¡ç‰ˆæœ¬å·ï¼šå‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
   - ä¿®è®¢å·ï¼šå‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

3. **æ ‡ç­¾å‘½å**
   - ä½¿ç”¨ `v` å‰ç¼€ï¼š`v1.0.1`
   - ä¸ `package.json` ä¸­çš„ç‰ˆæœ¬å·ä¿æŒä¸€è‡´ï¼ˆå¯é€‰ï¼‰

4. **æäº¤ä¿¡æ¯è§„èŒƒ**
   - ä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯
   - éµå¾ªçº¦å®šå¼æäº¤è§„èŒƒï¼ˆConventional Commitsï¼‰
   - æ ¼å¼ï¼š`<type>: <description>`

5. **æµ‹è¯•ä¼˜å…ˆ**
   - å‘å¸ƒå‰å¿…é¡»æµ‹è¯•
   - åœ¨å½“å‰é¡¹ç›®ä¸­å……åˆ†æµ‹è¯•
   - ç¡®ä¿åŠŸèƒ½æ­£å¸¸åå†å‘å¸ƒ

---

## ğŸ”§ å¼€å‘æœ€ä½³å®è·µ

### 1. å¼€å‘æ–°åŠŸèƒ½

```bash
# 1. åœ¨ packages/theme-system ä¸­å¼€å‘
cd packages/theme-system

# 2. ä¿®æ”¹ä»£ç 
# ç¼–è¾‘ src/ ä¸­çš„æ–‡ä»¶

# 3. æ„å»º
pnpm build

# 4. åœ¨å½“å‰é¡¹ç›®ä¸­æµ‹è¯•
cd ../../apps/km-artizen-ai-ui
pnpm dev
```

### 2. æ·»åŠ æ–°ä¸»é¢˜

```bash
# 1. åˆ›å»ºä¸»é¢˜æ–‡ä»¶
cd packages/theme-system
# åœ¨ presets/ ä¸­åˆ›å»ºæ–°ä¸»é¢˜ JSON æ–‡ä»¶
# ä¾‹å¦‚ï¼špresets/my-new-theme.json

# 2. ç¡®ä¿ä¸»é¢˜æ–‡ä»¶åŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ
# - metaï¼ˆå…ƒä¿¡æ¯ï¼‰
# - colorsï¼ˆé¢œè‰²é…ç½®ï¼‰
# - typographyï¼ˆå­—ä½“é…ç½®ï¼Œå¿…éœ€ï¼‰
# - spacingï¼ˆé—´è·é…ç½®ï¼Œå¿…éœ€ï¼‰
# - borderRadiusï¼ˆåœ†è§’é…ç½®ï¼Œå¿…éœ€ï¼‰
# - bordersï¼ˆè¾¹æ¡†é…ç½®ï¼Œå¿…éœ€ï¼‰
# - shadowsï¼ˆé˜´å½±é…ç½®ï¼Œå¿…éœ€ï¼‰
# - animationï¼ˆåŠ¨ç”»é…ç½®ï¼Œå¿…éœ€ï¼‰

# 3. ç”Ÿæˆå¯¼å…¥ä»£ç ï¼ˆè‡ªåŠ¨æ‰«æ presets/ ç›®å½•ï¼‰
pnpm run generate:themes
# è¿™ä¼šè‡ªåŠ¨æ›´æ–° nextjs-adapter.tsx å’Œ index.ts

# 4. æ„å»ºåŒ…ï¼ˆå¿…é¡»ï¼ï¼‰
pnpm build

# 5. æµ‹è¯•
cd ../../apps/km-artizen-ai-ui
pnpm dev
# åœ¨æµè§ˆå™¨ä¸­æµ‹è¯•æ–°ä¸»é¢˜

# 6. å¦‚æœæµ‹è¯•é€šè¿‡ï¼Œæäº¤å¹¶å‘å¸ƒ
cd ../../packages/theme-system
git add .
git commit -m "feat: æ·»åŠ  my-new-theme ä¸»é¢˜"
git push origin main
git tag v1.0.1
git tag -f latest v1.0.1  # åŒæ—¶æ›´æ–° latest æ ‡ç­¾
git push origin v1.0.1
git push origin latest --force
```

### 3. ä¿®å¤é—®é¢˜

```bash
# 1. åœ¨ packages/theme-system ä¸­ä¿®å¤
cd packages/theme-system

# 2. ä¿®æ”¹ä»£ç 
# ä¿®å¤é—®é¢˜ï¼ˆç¼–è¾‘ src/ ä¸­çš„æ–‡ä»¶ï¼‰

# 3. æ„å»ºåŒ…ï¼ˆå¿…é¡»ï¼ï¼‰
pnpm build

# 4. æµ‹è¯•
cd ../../apps/km-artizen-ai-ui
pnpm dev
# éªŒè¯é—®é¢˜å·²ä¿®å¤

# 5. å¦‚æœæµ‹è¯•é€šè¿‡ï¼Œæäº¤å¹¶å‘å¸ƒ
cd ../../packages/theme-system
git add .
git commit -m "fix: ä¿®å¤é—®é¢˜æè¿°"
git push origin main
git tag v1.0.2
git tag -f latest v1.0.2  # åŒæ—¶æ›´æ–° latest æ ‡ç­¾
git push origin v1.0.2
git push origin latest --force
```

---

## â“ å¸¸è§é—®é¢˜

### Q: å½“å‰é¡¹ç›®ä½¿ç”¨ä¸»é¢˜ç»„ä»¶éœ€è¦å®‰è£…å—ï¼Ÿ

**A**: ä¸éœ€è¦ã€‚å½“å‰é¡¹ç›®ä½¿ç”¨ `workspace:*` åè®®ï¼Œä¼šè‡ªåŠ¨é“¾æ¥åˆ°æœ¬åœ°å¼€å‘ç‰ˆæœ¬ã€‚

```json
// apps/km-artizen-ai-ui/package.json
{
  "dependencies": {
    "@km-design/theme-system": "workspace:*"
  }
}
```

### Q: ä¿®æ”¹ä¸»é¢˜ç»„ä»¶åéœ€è¦é‡æ–°å®‰è£…å—ï¼Ÿ

**A**: ä¸éœ€è¦ã€‚åªéœ€è¦é‡æ–°æ„å»ºå³å¯ï¼š

```bash
cd packages/theme-system
pnpm build
```

ç„¶åé‡æ–°å¯åŠ¨é¡¹ç›®ï¼š

```bash
cd apps/km-artizen-ai-ui
pnpm dev
```

### Q: ä»€ä¹ˆæ—¶å€™éœ€è¦æ¨é€åˆ° GitHubï¼Ÿ

**A**: å½“éœ€è¦ï¼š

- å…¶ä»–é¡¹ç›®ä½¿ç”¨æ–°ç‰ˆæœ¬æ—¶
- å‘å¸ƒç¨³å®šç‰ˆæœ¬æ—¶
- éœ€è¦ç‰ˆæœ¬æ§åˆ¶æ—¶

### Q: å½“å‰é¡¹ç›®å’Œå…¶ä»–é¡¹ç›®çš„ä½¿ç”¨æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**A**:

| é¡¹ç›®                             | ä½¿ç”¨æ–¹å¼  | åè®®              | ç‰¹ç‚¹                   |
| -------------------------------- | --------- | ----------------- | ---------------------- |
| **å½“å‰é¡¹ç›®**ï¼ˆkm-artizen-ai-uiï¼‰ | workspace | `workspace:*`     | ç›´æ¥ä½¿ç”¨æœ¬åœ°å¼€å‘ç‰ˆæœ¬   |
| **å…¶ä»–é¡¹ç›®**ï¼ˆkm-flow-uiï¼‰       | GitHub    | `git+https://...` | ä½¿ç”¨ GitHub å‘å¸ƒçš„ç‰ˆæœ¬ |

### Q: å¦‚ä½•ç¡®ä¿å…¶ä»–é¡¹ç›®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼Ÿ

**A**:

1. **å¼€å‘å®Œæˆåæ¨é€åˆ° GitHub**ï¼š

   ```bash
   cd packages/theme-system
   git push origin main
   git tag v1.0.1
   git push origin v1.0.1
   ```

2. **åœ¨å…¶ä»–é¡¹ç›®ä¸­æ›´æ–°**ï¼š
   ```bash
   cd /path/to/other/project
   pnpm add git+https://github.com/hjw472015868/theme.git#v1.0.1
   ```

### Q: å¼€å‘æ—¶å¦‚ä½•å¿«é€Ÿæµ‹è¯•ï¼Ÿ

**A**:

1. **ä½¿ç”¨ workspace åè®®**ï¼ˆå½“å‰é¡¹ç›®ï¼‰ï¼š
   - ä¿®æ”¹ä»£ç  â†’ æ„å»º â†’ æµ‹è¯•
   - æ— éœ€å®‰è£…ï¼Œè‡ªåŠ¨ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬

2. **ä½¿ç”¨å¼€å‘æ¨¡å¼**ï¼š
   ```bash
   cd packages/theme-system
   pnpm dev  # ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼Œè‡ªåŠ¨æ„å»º
   ```

### Q: å¦‚ä½•ç®¡ç†ç‰ˆæœ¬ï¼Ÿ

**A**:

1. **å¼€å‘ç‰ˆæœ¬**ï¼šä½¿ç”¨ `workspace:*`ï¼ˆå½“å‰é¡¹ç›®ï¼‰
2. **ç¨³å®šç‰ˆæœ¬**ï¼šä½¿ç”¨ Git æ ‡ç­¾ï¼ˆå…¶ä»–é¡¹ç›®ï¼‰
   - `v1.0.0` - ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬
   - `v1.0.1` - ä¿®å¤ç‰ˆæœ¬
   - `v1.1.0` - æ–°åŠŸèƒ½ç‰ˆæœ¬

---

## ğŸ“ æ€»ç»“

### å¼€å‘æµç¨‹

1. **åœ¨ `packages/theme-system` ä¸­å¼€å‘**
2. **æ„å»ºåŒ…**ï¼š`pnpm build`
3. **åœ¨å½“å‰é¡¹ç›®ä¸­æµ‹è¯•**ï¼šä½¿ç”¨ `workspace:*` åè®®
4. **æ¨é€åˆ° GitHub**ï¼šå‘å¸ƒç¨³å®šç‰ˆæœ¬
5. **å…¶ä»–é¡¹ç›®æ›´æ–°**ï¼šä½¿ç”¨ GitHub åè®®å®‰è£…

### ä½¿ç”¨æ–¹å¼

- **å½“å‰é¡¹ç›®**ï¼šä½¿ç”¨ `workspace:*` åè®®ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
- **å…¶ä»–é¡¹ç›®**ï¼šä½¿ç”¨ `git+https://...` åè®®ï¼ˆç”Ÿäº§æ¨¡å¼ï¼‰

---

---

## ğŸ“Œ å¿«é€Ÿå‚è€ƒ

### å¸¸ç”¨å‘½ä»¤

```bash
# è¿›å…¥ä¸»é¢˜åŒ…ç›®å½•
cd packages/theme-system

# ç”Ÿæˆä¸»é¢˜å¯¼å…¥ä»£ç 
pnpm run generate:themes

# æ„å»ºåŒ…
pnpm build

# ç±»å‹æ£€æŸ¥
pnpm type-check

# å¼€å‘æ¨¡å¼ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰
pnpm dev

# æŸ¥çœ‹ Git çŠ¶æ€
git status

# æŸ¥çœ‹ä¿®æ”¹å†…å®¹
git diff

# æäº¤ä»£ç 
git add .
git commit -m "feat: æè¿°"

# æ¨é€åˆ° GitHub
git push origin main

# åˆ›å»ºæ ‡ç­¾
git tag v1.0.1

# æ¨é€æ ‡ç­¾
git push origin v1.0.1

# æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾
git tag -l

# åˆ é™¤æ ‡ç­¾ï¼ˆæœ¬åœ°ï¼‰
git tag -d v1.0.1

# åˆ é™¤æ ‡ç­¾ï¼ˆè¿œç¨‹ï¼‰
git push origin --delete v1.0.1
```

### å‘å¸ƒæµç¨‹é€ŸæŸ¥

```bash
# 1. ä¿®æ”¹ä»£ç 
# 2. ç”Ÿæˆå¯¼å…¥ï¼ˆå¦‚æ·»åŠ æ–°ä¸»é¢˜ï¼‰
pnpm run generate:themes

# 3. æ„å»º
pnpm build

# 4. æµ‹è¯•
cd ../../apps/km-artizen-ai-ui && pnpm dev

# 5. æäº¤
cd ../../packages/theme-system
git add . && git commit -m "feat: æè¿°"

# 6. æ¨é€
git push origin main

# 7. æ‰“æ ‡ç­¾ï¼ˆåŒ…å« latest æ ‡ç­¾ï¼‰
git tag v1.0.1
git tag -f latest v1.0.1  # åŒæ—¶æ›´æ–° latest æ ‡ç­¾æŒ‡å‘æ–°ç‰ˆæœ¬
git push origin v1.0.1
git push origin latest --force  # æ¨é€ latest æ ‡ç­¾
```

---

**æœ€åæ›´æ–°**: 2025-11-10  
**ç‰ˆæœ¬**: v1.0.0
