# å¼€å‘å·¥ä½œæµç¨‹

> è¯´æ˜ä¸»é¢˜ç»„ä»¶çš„å¼€å‘æµç¨‹å’Œä¸åŒé¡¹ç›®çš„ä½¿ç”¨æ–¹å¼

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [å¼€å‘æµç¨‹](#å¼€å‘æµç¨‹)
- [ä½¿ç”¨æ–¹å¼](#ä½¿ç”¨æ–¹å¼)
- [å‘å¸ƒæµç¨‹](#å‘å¸ƒæµç¨‹)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

### å½“å‰é¡¹ç›®ï¼ˆkm-artizen-uiï¼‰

è¿™æ˜¯ä¸€ä¸ª **monorepo** é¡¹ç›®ï¼ŒåŒ…å«ï¼š

```
km-artizen-ui/
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ theme-system/          # ä¸»é¢˜ç»„ä»¶åŒ…ï¼ˆå¼€å‘ä½ç½®ï¼‰
â”‚       â”œâ”€â”€ src/               # æºä»£ç 
â”‚       â”œâ”€â”€ presets/           # é¢„è®¾ä¸»é¢˜
â”‚       â”œâ”€â”€ docs/              # æ–‡æ¡£
â”‚       â””â”€â”€ dist/              # æ„å»ºè¾“å‡º
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ km-artizen-ai-ui/      # UmiJS é¡¹ç›®ï¼ˆä½¿ç”¨ä¸»é¢˜ç»„ä»¶ï¼‰
â”‚       â””â”€â”€ package.json        # ä½¿ç”¨ workspace:* åè®®
â””â”€â”€ package.json               # æ ¹ package.json
```

### ä¸»é¢˜ç»„ä»¶å¼€å‘ä½ç½®

**ä¸»é¢˜ç»„ä»¶åœ¨ `packages/theme-system/` ä¸­å¼€å‘**ï¼Œè¿™æ˜¯ï¼š

- âœ… ä¸»é¢˜ç»„ä»¶çš„æºä»£ç ä½ç½®
- âœ… æ‰€æœ‰ä¸»é¢˜é…ç½®å’Œé¢„è®¾ä¸»é¢˜çš„ä½ç½®
- âœ… æ–‡æ¡£å’Œå¼€å‘æŒ‡å—çš„ä½ç½®
- âœ… æ„å»ºå’Œå‘å¸ƒçš„ä½ç½®

---

## ğŸ”„ å¼€å‘æµç¨‹

### 1. åœ¨æœ¬åœ°å¼€å‘

#### å¼€å‘æ­¥éª¤

1. **ä¿®æ”¹ä¸»é¢˜ç»„ä»¶ä»£ç **

   ```bash
   cd packages/theme-system
   # ä¿®æ”¹ src/ ä¸­çš„ä»£ç 
   # ä¿®æ”¹ presets/ ä¸­çš„ä¸»é¢˜é…ç½®
   ```

2. **æ„å»ºåŒ…**

   ```bash
   cd packages/theme-system
   pnpm build
   ```

3. **åœ¨å½“å‰é¡¹ç›®ä¸­æµ‹è¯•**

   ```bash
   # å½“å‰é¡¹ç›®ä½¿ç”¨ workspace:* åè®®ï¼Œè‡ªåŠ¨ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬
   cd apps/km-artizen-ai-ui
   pnpm dev
   ```

#### ä½¿ç”¨ workspace åè®®

å½“å‰é¡¹ç›®ï¼ˆ`apps/km-artizen-ai-ui`ï¼‰ä½¿ç”¨ `workspace:*` åè®®ï¼š

```json
// apps/km-artizen-ai-ui/package.json
{
  "dependencies": {
    "@km-design/theme-system": "workspace:*"
  }
}
```

**ä¼˜åŠ¿**ï¼š

- âœ… æ— éœ€å®‰è£…ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°å¼€å‘ç‰ˆæœ¬
- âœ… ä¿®æ”¹ä»£ç åé‡æ–°æ„å»ºå³å¯ï¼Œæ— éœ€é‡æ–°å®‰è£…
- âœ… å¼€å‘æ•ˆç‡é«˜ï¼Œå®æ—¶æµ‹è¯•

### 2. å‘å¸ƒåˆ° GitHub

#### å‘å¸ƒæ­¥éª¤

1. **å®Œæˆå¼€å‘å’Œæµ‹è¯•**

   ```bash
   cd packages/theme-system
   pnpm build
   pnpm type-check
   ```

2. **æäº¤ä»£ç **

   ```bash
   cd packages/theme-system
   git add .
   git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
   ```

3. **æ¨é€åˆ° GitHub**

   ```bash
   # æ¨é€åˆ° GitHub ä»“åº“
   git push origin main

   # åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾ï¼ˆæ–°ç‰ˆæœ¬ï¼‰
   git tag v1.0.1
   git push origin v1.0.1
   ```

4. **å…¶ä»–é¡¹ç›®æ›´æ–°**

   å…¶ä»–é¡¹ç›®ï¼ˆéå½“å‰ monorepoï¼‰å¯ä»¥é€šè¿‡ GitHub å®‰è£…ï¼š

   ```bash
   pnpm add git+https://github.com/hjw472015868/theme.git#v1.0.1
   ```

---

## ğŸ“¦ ä½¿ç”¨æ–¹å¼

### æ–¹å¼ä¸€ï¼šå½“å‰é¡¹ç›®ï¼ˆmonorepo å†…éƒ¨ï¼‰

**ä½¿ç”¨ workspace åè®®**ï¼ˆæ¨èç”¨äºå¼€å‘ï¼‰

```json
// apps/km-artizen-ai-ui/package.json
{
  "dependencies": {
    "@km-design/theme-system": "workspace:*"
  }
}
```

**ç‰¹ç‚¹**ï¼š

- âœ… ç›´æ¥ä½¿ç”¨æœ¬åœ°å¼€å‘ç‰ˆæœ¬
- âœ… ä¿®æ”¹ä»£ç åé‡æ–°æ„å»ºå³å¯
- âœ… æ— éœ€å®‰è£…ï¼Œè‡ªåŠ¨é“¾æ¥
- âœ… é€‚åˆå¼€å‘å’Œæµ‹è¯•

**ä½¿ç”¨åœºæ™¯**ï¼š

- å½“å‰é¡¹ç›®ï¼ˆ`km-artizen-ai-ui`ï¼‰å¼€å‘æ—¶ä½¿ç”¨
- ä¸»é¢˜ç»„ä»¶å¼€å‘æ—¶æµ‹è¯•ä½¿ç”¨

### æ–¹å¼äºŒï¼šå…¶ä»–é¡¹ç›®ï¼ˆå¤–éƒ¨é¡¹ç›®ï¼‰

**ä½¿ç”¨ GitHub åè®®**ï¼ˆæ¨èç”¨äºç”Ÿäº§ï¼‰

```json
// å…¶ä»–é¡¹ç›®çš„ package.json
{
  "dependencies": {
    "@km-design/theme-system": "git+https://github.com/hjw472015868/theme.git#v1.0.0"
  }
}
```

**ç‰¹ç‚¹**ï¼š

- âœ… ä½¿ç”¨ GitHub å‘å¸ƒçš„ç¨³å®šç‰ˆæœ¬
- âœ… ç‰ˆæœ¬æ§åˆ¶æ¸…æ™°ï¼ˆé€šè¿‡ Git æ ‡ç­¾ï¼‰
- âœ… é€‚åˆç”Ÿäº§ç¯å¢ƒ
- âœ… å…¶ä»–é¡¹ç›®å¯ä»¥ç‹¬ç«‹ä½¿ç”¨

**ä½¿ç”¨åœºæ™¯**ï¼š

- å…¶ä»–ç‹¬ç«‹é¡¹ç›®ï¼ˆå¦‚ `km-flow-ui`ï¼‰
- ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- éœ€è¦ç¨³å®šç‰ˆæœ¬çš„é¡¹ç›®

---

## ğŸš€ å‘å¸ƒæµç¨‹

### å®Œæ•´å‘å¸ƒæµç¨‹

#### 1. å¼€å‘é˜¶æ®µ

```bash
# åœ¨ packages/theme-system ä¸­å¼€å‘
cd packages/theme-system

# ä¿®æ”¹ä»£ç 
# ä¿®æ”¹ src/ ä¸­çš„ç»„ä»¶
# ä¿®æ”¹ presets/ ä¸­çš„ä¸»é¢˜é…ç½®

# æ„å»º
pnpm build

# åœ¨å½“å‰é¡¹ç›®ä¸­æµ‹è¯•
cd ../../apps/km-artizen-ai-ui
pnpm dev
```

#### 2. æµ‹è¯•é˜¶æ®µ

```bash
# åœ¨å½“å‰é¡¹ç›®ä¸­æµ‹è¯•
cd apps/km-artizen-ai-ui
pnpm dev

# éªŒè¯åŠŸèƒ½
# æ£€æŸ¥ä¸»é¢˜åˆ‡æ¢
# æ£€æŸ¥æ ·å¼åº”ç”¨
# æ£€æŸ¥ç±»å‹å®šä¹‰
```

#### 3. å‘å¸ƒé˜¶æ®µ

```bash
# å›åˆ°ä¸»é¢˜åŒ…ç›®å½•
cd packages/theme-system

# æ›´æ–°ç‰ˆæœ¬å·ï¼ˆå¦‚æœéœ€è¦ï¼‰
# ç¼–è¾‘ package.jsonï¼Œæ›´æ–° version

# æ„å»º
pnpm build

# æäº¤ä»£ç 
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½æˆ–ä¿®å¤é—®é¢˜"

# æ¨é€åˆ° GitHub
git push origin main

# åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾ï¼ˆæ–°ç‰ˆæœ¬ï¼‰
git tag v1.0.1
git push origin v1.0.1
```

#### 4. å…¶ä»–é¡¹ç›®æ›´æ–°

```bash
# åœ¨å…¶ä»–é¡¹ç›®ä¸­æ›´æ–°
cd /path/to/other/project

# æ›´æ–°åˆ°æ–°ç‰ˆæœ¬
pnpm add git+https://github.com/hjw472015868/theme.git#v1.0.1

# æˆ–æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬
pnpm update @km-design/theme-system
```

---

## ğŸ”§ å¼€å‘æœ€ä½³å®è·µ

### 1. å¼€å‘æ–°åŠŸèƒ½

```bash
# 1. åœ¨ packages/theme-system ä¸­å¼€å‘
cd packages/theme-system

# 2. ä¿®æ”¹ä»£ç 
# ç¼–è¾‘ src/ ä¸­çš„æ–‡ä»¶

# 3. æ„å»º
pnpm build

# 4. åœ¨å½“å‰é¡¹ç›®ä¸­æµ‹è¯•
cd ../../apps/km-artizen-ai-ui
pnpm dev
```

### 2. æ·»åŠ æ–°ä¸»é¢˜

```bash
# 1. åˆ›å»ºä¸»é¢˜æ–‡ä»¶
cd packages/theme-system
# åœ¨ presets/ ä¸­åˆ›å»ºæ–°ä¸»é¢˜ JSON æ–‡ä»¶

# 2. åœ¨é€‚é…å™¨ä¸­æ³¨å†Œï¼ˆNext.js éœ€è¦ï¼‰
# ç¼–è¾‘ src/provider/nextjs-adapter.tsx

# 3. æ„å»º
pnpm build

# 4. æµ‹è¯•
cd ../../apps/km-artizen-ai-ui
pnpm dev
```

### 3. ä¿®å¤é—®é¢˜

```bash
# 1. åœ¨ packages/theme-system ä¸­ä¿®å¤
cd packages/theme-system

# 2. ä¿®æ”¹ä»£ç 
# ä¿®å¤é—®é¢˜

# 3. æ„å»º
pnpm build

# 4. æµ‹è¯•
cd ../../apps/km-artizen-ai-ui
pnpm dev

# 5. å‘å¸ƒ
git add .
git commit -m "fix: ä¿®å¤é—®é¢˜æè¿°"
git push origin main
git tag v1.0.2
git push origin v1.0.2
```

---

## â“ å¸¸è§é—®é¢˜

### Q: å½“å‰é¡¹ç›®ä½¿ç”¨ä¸»é¢˜ç»„ä»¶éœ€è¦å®‰è£…å—ï¼Ÿ

**A**: ä¸éœ€è¦ã€‚å½“å‰é¡¹ç›®ä½¿ç”¨ `workspace:*` åè®®ï¼Œä¼šè‡ªåŠ¨é“¾æ¥åˆ°æœ¬åœ°å¼€å‘ç‰ˆæœ¬ã€‚

```json
// apps/km-artizen-ai-ui/package.json
{
  "dependencies": {
    "@km-design/theme-system": "workspace:*"
  }
}
```

### Q: ä¿®æ”¹ä¸»é¢˜ç»„ä»¶åéœ€è¦é‡æ–°å®‰è£…å—ï¼Ÿ

**A**: ä¸éœ€è¦ã€‚åªéœ€è¦é‡æ–°æ„å»ºå³å¯ï¼š

```bash
cd packages/theme-system
pnpm build
```

ç„¶åé‡æ–°å¯åŠ¨é¡¹ç›®ï¼š

```bash
cd apps/km-artizen-ai-ui
pnpm dev
```

### Q: ä»€ä¹ˆæ—¶å€™éœ€è¦æ¨é€åˆ° GitHubï¼Ÿ

**A**: å½“éœ€è¦ï¼š

- å…¶ä»–é¡¹ç›®ä½¿ç”¨æ–°ç‰ˆæœ¬æ—¶
- å‘å¸ƒç¨³å®šç‰ˆæœ¬æ—¶
- éœ€è¦ç‰ˆæœ¬æ§åˆ¶æ—¶

### Q: å½“å‰é¡¹ç›®å’Œå…¶ä»–é¡¹ç›®çš„ä½¿ç”¨æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**A**:

| é¡¹ç›®                             | ä½¿ç”¨æ–¹å¼  | åè®®              | ç‰¹ç‚¹                   |
| -------------------------------- | --------- | ----------------- | ---------------------- |
| **å½“å‰é¡¹ç›®**ï¼ˆkm-artizen-ai-uiï¼‰ | workspace | `workspace:*`     | ç›´æ¥ä½¿ç”¨æœ¬åœ°å¼€å‘ç‰ˆæœ¬   |
| **å…¶ä»–é¡¹ç›®**ï¼ˆkm-flow-uiï¼‰       | GitHub    | `git+https://...` | ä½¿ç”¨ GitHub å‘å¸ƒçš„ç‰ˆæœ¬ |

### Q: å¦‚ä½•ç¡®ä¿å…¶ä»–é¡¹ç›®ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ï¼Ÿ

**A**:

1. **å¼€å‘å®Œæˆåæ¨é€åˆ° GitHub**ï¼š

   ```bash
   cd packages/theme-system
   git push origin main
   git tag v1.0.1
   git push origin v1.0.1
   ```

2. **åœ¨å…¶ä»–é¡¹ç›®ä¸­æ›´æ–°**ï¼š
   ```bash
   cd /path/to/other/project
   pnpm add git+https://github.com/hjw472015868/theme.git#v1.0.1
   ```

### Q: å¼€å‘æ—¶å¦‚ä½•å¿«é€Ÿæµ‹è¯•ï¼Ÿ

**A**:

1. **ä½¿ç”¨ workspace åè®®**ï¼ˆå½“å‰é¡¹ç›®ï¼‰ï¼š
   - ä¿®æ”¹ä»£ç  â†’ æ„å»º â†’ æµ‹è¯•
   - æ— éœ€å®‰è£…ï¼Œè‡ªåŠ¨ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬

2. **ä½¿ç”¨å¼€å‘æ¨¡å¼**ï¼š
   ```bash
   cd packages/theme-system
   pnpm dev  # ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼Œè‡ªåŠ¨æ„å»º
   ```

### Q: å¦‚ä½•ç®¡ç†ç‰ˆæœ¬ï¼Ÿ

**A**:

1. **å¼€å‘ç‰ˆæœ¬**ï¼šä½¿ç”¨ `workspace:*`ï¼ˆå½“å‰é¡¹ç›®ï¼‰
2. **ç¨³å®šç‰ˆæœ¬**ï¼šä½¿ç”¨ Git æ ‡ç­¾ï¼ˆå…¶ä»–é¡¹ç›®ï¼‰
   - `v1.0.0` - ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬
   - `v1.0.1` - ä¿®å¤ç‰ˆæœ¬
   - `v1.1.0` - æ–°åŠŸèƒ½ç‰ˆæœ¬

---

## ğŸ“ æ€»ç»“

### å¼€å‘æµç¨‹

1. **åœ¨ `packages/theme-system` ä¸­å¼€å‘**
2. **æ„å»ºåŒ…**ï¼š`pnpm build`
3. **åœ¨å½“å‰é¡¹ç›®ä¸­æµ‹è¯•**ï¼šä½¿ç”¨ `workspace:*` åè®®
4. **æ¨é€åˆ° GitHub**ï¼šå‘å¸ƒç¨³å®šç‰ˆæœ¬
5. **å…¶ä»–é¡¹ç›®æ›´æ–°**ï¼šä½¿ç”¨ GitHub åè®®å®‰è£…

### ä½¿ç”¨æ–¹å¼

- **å½“å‰é¡¹ç›®**ï¼šä½¿ç”¨ `workspace:*` åè®®ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
- **å…¶ä»–é¡¹ç›®**ï¼šä½¿ç”¨ `git+https://...` åè®®ï¼ˆç”Ÿäº§æ¨¡å¼ï¼‰

---

**æœ€åæ›´æ–°**: 2025-01-14  
**ç‰ˆæœ¬**: v1.0.0
